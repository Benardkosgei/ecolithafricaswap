{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { Card, Button, TextInput, RadioButton, ActivityIndicator, Divider } from 'react-native-paper';\nimport Icon from \"@expo/vector-icons/MaterialIcons\";\nimport { useData } from \"../contexts/DataContext\";\nimport { colors, typography, spacing } from \"../utils/theme\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function PaymentScreen(_ref) {\n  var _rental$stations;\n  var navigation = _ref.navigation,\n    route = _ref.route;\n  var _ref2 = route.params || {},\n    rental = _ref2.rental,\n    offline = _ref2.offline;\n  var _useData = useData(),\n    isOnline = _useData.isOnline;\n  var _useState = useState('mpesa'),\n    _useState2 = _slicedToArray(_useState, 2),\n    paymentMethod = _useState2[0],\n    setPaymentMethod = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    phoneNumber = _useState4[0],\n    setPhoneNumber = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    processing = _useState6[0],\n    setProcessing = _useState6[1];\n  var _useState7 = useState('pending'),\n    _useState8 = _slicedToArray(_useState7, 2),\n    paymentStatus = _useState8[0],\n    setPaymentStatus = _useState8[1];\n  useEffect(function () {\n    if (offline) {\n      setPaymentStatus('offline');\n    }\n  }, [offline]);\n  var handlePayment = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      if (!phoneNumber && paymentMethod === 'mpesa') {\n        Alert.alert('Phone Number Required', 'Please enter your M-Pesa phone number.');\n        return;\n      }\n      if (phoneNumber && !phoneNumber.match(/^254\\d{9}$/)) {\n        Alert.alert('Invalid Phone Number', 'Please enter a valid Kenyan phone number (254XXXXXXXXX).');\n        return;\n      }\n      try {\n        setProcessing(true);\n        if (offline || !isOnline) {\n          Alert.alert('Payment Recorded', 'Your payment has been recorded offline and will be processed when connection is restored.', [{\n            text: 'Continue',\n            onPress: function onPress() {\n              return navigation.navigate('HomeTab');\n            }\n          }]);\n          return;\n        }\n        if (paymentMethod === 'mpesa') {\n          yield simulateMpesaPayment();\n        } else {\n          yield simulateCardPayment();\n        }\n      } catch (error) {\n        Alert.alert('Payment Error', error.message || 'Payment failed. Please try again.');\n      } finally {\n        setProcessing(false);\n      }\n    });\n    return function handlePayment() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var simulateMpesaPayment = function () {\n    var _ref4 = _asyncToGenerator(function* () {\n      setPaymentStatus('processing');\n      Alert.alert('M-Pesa Payment', `A payment request has been sent to ${phoneNumber}. Please check your phone and enter your M-Pesa PIN to complete the payment.`, [{\n        text: 'Cancel',\n        style: 'cancel',\n        onPress: function onPress() {\n          return setPaymentStatus('cancelled');\n        }\n      }, {\n        text: 'Continue',\n        onPress: function onPress() {\n          setTimeout(function () {\n            setPaymentStatus('completed');\n            Alert.alert('Payment Successful', 'Your payment has been processed successfully!', [{\n              text: 'View Receipt',\n              onPress: function onPress() {\n                return navigation.navigate('HistoryTab');\n              }\n            }, {\n              text: 'Done',\n              onPress: function onPress() {\n                return navigation.navigate('HomeTab');\n              }\n            }]);\n          }, 2000);\n        }\n      }]);\n    });\n    return function simulateMpesaPayment() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var simulateCardPayment = function () {\n    var _ref5 = _asyncToGenerator(function* () {\n      setPaymentStatus('processing');\n      setTimeout(function () {\n        setPaymentStatus('completed');\n        Alert.alert('Payment Successful', 'Your card payment has been processed successfully!', [{\n          text: 'Done',\n          onPress: function onPress() {\n            return navigation.navigate('HomeTab');\n          }\n        }]);\n      }, 3000);\n    });\n    return function simulateCardPayment() {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  var formatPhoneNumber = function formatPhoneNumber(text) {\n    var cleaned = text.replace(/\\D/g, '');\n    if (cleaned.startsWith('0')) {\n      cleaned = '254' + cleaned.substring(1);\n    } else if (cleaned.startsWith('7') || cleaned.startsWith('1')) {\n      cleaned = '254' + cleaned;\n    }\n    return cleaned;\n  };\n  var getPaymentIcon = function getPaymentIcon(method) {\n    switch (method) {\n      case 'mpesa':\n        return 'phone-android';\n      case 'card':\n        return 'credit-card';\n      default:\n        return 'payment';\n    }\n  };\n  var getStatusColor = function getStatusColor(status) {\n    switch (status) {\n      case 'completed':\n        return colors.success;\n      case 'processing':\n        return colors.warning;\n      case 'offline':\n        return colors.info;\n      case 'cancelled':\n        return colors.error;\n      default:\n        return colors.textSecondary;\n    }\n  };\n  var getStatusText = function getStatusText(status) {\n    switch (status) {\n      case 'completed':\n        return 'Payment Completed';\n      case 'processing':\n        return 'Processing Payment...';\n      case 'offline':\n        return 'Payment Recorded Offline';\n      case 'cancelled':\n        return 'Payment Cancelled';\n      default:\n        return 'Payment Pending';\n    }\n  };\n  return _jsxs(ScrollView, {\n    style: styles.container,\n    children: [_jsxs(View, {\n      style: styles.header,\n      children: [_jsx(Text, {\n        style: styles.headerTitle,\n        children: \"Payment\"\n      }), _jsx(Text, {\n        style: styles.headerSubtitle,\n        children: offline ? 'Complete payment when online' : 'Complete your battery swap payment'\n      })]\n    }), _jsx(Card, {\n      style: styles.statusCard,\n      children: _jsxs(Card.Content, {\n        children: [_jsxs(View, {\n          style: styles.statusHeader,\n          children: [_jsx(Icon, {\n            name: paymentStatus === 'completed' ? 'check-circle' : 'payment',\n            size: 24,\n            color: getStatusColor(paymentStatus)\n          }), _jsx(Text, {\n            style: [styles.statusText, {\n              color: getStatusColor(paymentStatus)\n            }],\n            children: getStatusText(paymentStatus)\n          })]\n        }), processing && _jsx(ActivityIndicator, {\n          size: \"small\",\n          color: colors.primary,\n          style: styles.statusLoader\n        })]\n      })\n    }), rental && _jsx(Card, {\n      style: styles.summaryCard,\n      children: _jsxs(Card.Content, {\n        children: [_jsx(Text, {\n          style: styles.cardTitle,\n          children: \"Rental Summary\"\n        }), _jsxs(View, {\n          style: styles.summaryRow,\n          children: [_jsx(Text, {\n            style: styles.summaryLabel,\n            children: \"Station:\"\n          }), _jsx(Text, {\n            style: styles.summaryValue,\n            children: (_rental$stations = rental.stations) == null ? void 0 : _rental$stations.name\n          })]\n        }), _jsxs(View, {\n          style: styles.summaryRow,\n          children: [_jsx(Text, {\n            style: styles.summaryLabel,\n            children: \"Battery:\"\n          }), _jsx(Text, {\n            style: styles.summaryValue,\n            children: rental.battery_id\n          })]\n        }), _jsxs(View, {\n          style: styles.summaryRow,\n          children: [_jsx(Text, {\n            style: styles.summaryLabel,\n            children: \"Start Time:\"\n          }), _jsx(Text, {\n            style: styles.summaryValue,\n            children: new Date(rental.start_time).toLocaleString()\n          })]\n        }), _jsx(Divider, {\n          style: styles.divider\n        }), _jsxs(View, {\n          style: styles.summaryRow,\n          children: [_jsx(Text, {\n            style: styles.totalLabel,\n            children: \"Amount Due:\"\n          }), _jsxs(Text, {\n            style: styles.totalValue,\n            children: [\"KES \", rental.cost || 50]\n          })]\n        })]\n      })\n    }), !offline && paymentStatus === 'pending' && _jsx(Card, {\n      style: styles.paymentCard,\n      children: _jsxs(Card.Content, {\n        children: [_jsx(Text, {\n          style: styles.cardTitle,\n          children: \"Payment Method\"\n        }), _jsxs(View, {\n          style: styles.paymentOption,\n          children: [_jsx(RadioButton, {\n            value: \"mpesa\",\n            status: paymentMethod === 'mpesa' ? 'checked' : 'unchecked',\n            onPress: function onPress() {\n              return setPaymentMethod('mpesa');\n            },\n            color: colors.primary\n          }), _jsxs(View, {\n            style: styles.paymentInfo,\n            children: [_jsxs(View, {\n              style: styles.paymentHeader,\n              children: [_jsx(Icon, {\n                name: \"phone-android\",\n                size: 20,\n                color: colors.success\n              }), _jsx(Text, {\n                style: styles.paymentTitle,\n                children: \"M-Pesa\"\n              })]\n            }), _jsx(Text, {\n              style: styles.paymentDescription,\n              children: \"Pay with your M-Pesa mobile money account\"\n            })]\n          })]\n        }), _jsxs(View, {\n          style: styles.paymentOption,\n          children: [_jsx(RadioButton, {\n            value: \"card\",\n            status: paymentMethod === 'card' ? 'checked' : 'unchecked',\n            onPress: function onPress() {\n              return setPaymentMethod('card');\n            },\n            color: colors.primary\n          }), _jsxs(View, {\n            style: styles.paymentInfo,\n            children: [_jsxs(View, {\n              style: styles.paymentHeader,\n              children: [_jsx(Icon, {\n                name: \"credit-card\",\n                size: 20,\n                color: colors.info\n              }), _jsx(Text, {\n                style: styles.paymentTitle,\n                children: \"Debit/Credit Card\"\n              })]\n            }), _jsx(Text, {\n              style: styles.paymentDescription,\n              children: \"Pay with Visa, Mastercard, or local banks\"\n            })]\n          })]\n        }), paymentMethod === 'mpesa' && _jsx(TextInput, {\n          label: \"M-Pesa Phone Number\",\n          value: phoneNumber,\n          onChangeText: function onChangeText(text) {\n            return setPhoneNumber(formatPhoneNumber(text));\n          },\n          mode: \"outlined\",\n          keyboardType: \"phone-pad\",\n          placeholder: \"254712345678\",\n          style: styles.phoneInput,\n          left: _jsx(TextInput.Icon, {\n            icon: \"phone\"\n          })\n        })]\n      })\n    }), offline && _jsx(Card, {\n      style: styles.offlineCard,\n      children: _jsxs(Card.Content, {\n        children: [_jsxs(View, {\n          style: styles.offlineHeader,\n          children: [_jsx(Icon, {\n            name: \"wifi-off\",\n            size: 24,\n            color: colors.warning\n          }), _jsx(Text, {\n            style: styles.offlineTitle,\n            children: \"Offline Payment\"\n          })]\n        }), _jsx(Text, {\n          style: styles.offlineText,\n          children: \"You are currently offline. Your rental has been recorded and payment will be processed automatically when you reconnect to the internet.\"\n        }), _jsxs(View, {\n          style: styles.offlineInfo,\n          children: [_jsx(Text, {\n            style: styles.offlineInfoText,\n            children: \"\\u2022 Rental is active and you can use the battery\"\n          }), _jsx(Text, {\n            style: styles.offlineInfoText,\n            children: \"\\u2022 Payment will be processed via your default payment method\"\n          }), _jsx(Text, {\n            style: styles.offlineInfoText,\n            children: \"\\u2022 You'll receive a confirmation SMS when payment is complete\"\n          })]\n        })]\n      })\n    }), _jsx(Card, {\n      style: styles.securityCard,\n      children: _jsxs(Card.Content, {\n        children: [_jsxs(View, {\n          style: styles.securityHeader,\n          children: [_jsx(Icon, {\n            name: \"security\",\n            size: 20,\n            color: colors.success\n          }), _jsx(Text, {\n            style: styles.securityTitle,\n            children: \"Secure Payment\"\n          })]\n        }), _jsx(Text, {\n          style: styles.securityText,\n          children: \"Your payment information is encrypted and secure. We never store your card details or M-Pesa PIN.\"\n        })]\n      })\n    }), _jsxs(View, {\n      style: styles.actionButtons,\n      children: [!offline && paymentStatus === 'pending' && _jsx(Button, {\n        mode: \"contained\",\n        onPress: handlePayment,\n        style: styles.payButton,\n        loading: processing,\n        disabled: processing,\n        icon: getPaymentIcon(paymentMethod),\n        children: processing ? 'Processing...' : `Pay KES ${(rental == null ? void 0 : rental.cost) || 50}`\n      }), _jsx(Button, {\n        mode: \"text\",\n        onPress: function onPress() {\n          return navigation.navigate('HomeTab');\n        },\n        style: styles.cancelButton,\n        disabled: processing,\n        children: offline || paymentStatus === 'completed' ? 'Continue' : 'Cancel'\n      })]\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: colors.background\n  },\n  header: {\n    backgroundColor: colors.primary,\n    padding: spacing.lg,\n    paddingTop: spacing.xl\n  },\n  headerTitle: _objectSpread(_objectSpread({}, typography.h2), {}, {\n    color: 'white',\n    marginBottom: spacing.xs\n  }),\n  headerSubtitle: _objectSpread(_objectSpread({}, typography.body), {}, {\n    color: 'rgba(255, 255, 255, 0.8)'\n  }),\n  statusCard: {\n    margin: spacing.md,\n    backgroundColor: colors.surface\n  },\n  statusHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: spacing.sm\n  },\n  statusText: _objectSpread({}, typography.h3),\n  statusLoader: {\n    marginTop: spacing.sm\n  },\n  summaryCard: {\n    marginHorizontal: spacing.md,\n    marginBottom: spacing.md,\n    backgroundColor: colors.surface\n  },\n  cardTitle: _objectSpread(_objectSpread({}, typography.h3), {}, {\n    marginBottom: spacing.md\n  }),\n  summaryRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: spacing.sm\n  },\n  summaryLabel: _objectSpread(_objectSpread({}, typography.body), {}, {\n    color: colors.textSecondary\n  }),\n  summaryValue: _objectSpread(_objectSpread({}, typography.body), {}, {\n    fontWeight: '600'\n  }),\n  divider: {\n    marginVertical: spacing.md\n  },\n  totalLabel: _objectSpread({}, typography.h3),\n  totalValue: _objectSpread(_objectSpread({}, typography.h3), {}, {\n    color: colors.primary\n  }),\n  paymentCard: {\n    marginHorizontal: spacing.md,\n    marginBottom: spacing.md,\n    backgroundColor: colors.surface\n  },\n  paymentOption: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingVertical: spacing.md,\n    borderBottomWidth: 1,\n    borderBottomColor: colors.border\n  },\n  paymentInfo: {\n    marginLeft: spacing.sm,\n    flex: 1\n  },\n  paymentHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: spacing.sm,\n    marginBottom: spacing.xs\n  },\n  paymentTitle: _objectSpread(_objectSpread({}, typography.body), {}, {\n    fontWeight: '600'\n  }),\n  paymentDescription: _objectSpread(_objectSpread({}, typography.caption), {}, {\n    color: colors.textSecondary\n  }),\n  phoneInput: {\n    marginTop: spacing.md,\n    backgroundColor: colors.background\n  },\n  offlineCard: {\n    marginHorizontal: spacing.md,\n    marginBottom: spacing.md,\n    backgroundColor: colors.warning + '10',\n    borderWidth: 1,\n    borderColor: colors.warning\n  },\n  offlineHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: spacing.sm,\n    marginBottom: spacing.md\n  },\n  offlineTitle: _objectSpread(_objectSpread({}, typography.h3), {}, {\n    color: colors.warning\n  }),\n  offlineText: _objectSpread(_objectSpread({}, typography.body), {}, {\n    marginBottom: spacing.md,\n    lineHeight: 20\n  }),\n  offlineInfo: {\n    gap: spacing.xs\n  },\n  offlineInfoText: _objectSpread(_objectSpread({}, typography.caption), {}, {\n    color: colors.textSecondary\n  }),\n  securityCard: {\n    marginHorizontal: spacing.md,\n    marginBottom: spacing.md,\n    backgroundColor: colors.surface\n  },\n  securityHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: spacing.sm,\n    marginBottom: spacing.sm\n  },\n  securityTitle: _objectSpread(_objectSpread({}, typography.body), {}, {\n    fontWeight: '600'\n  }),\n  securityText: _objectSpread(_objectSpread({}, typography.caption), {}, {\n    color: colors.textSecondary,\n    lineHeight: 18\n  }),\n  actionButtons: {\n    paddingHorizontal: spacing.md,\n    paddingBottom: spacing.xxl,\n    gap: spacing.md\n  },\n  payButton: {\n    backgroundColor: colors.primary\n  },\n  cancelButton: {\n    marginTop: spacing.sm\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","View","Text","StyleSheet","ScrollView","Alert","Card","Button","TextInput","RadioButton","ActivityIndicator","Divider","Icon","useData","colors","typography","spacing","jsx","_jsx","jsxs","_jsxs","PaymentScreen","_ref","_rental$stations","navigation","route","_ref2","params","rental","offline","_useData","isOnline","_useState","_useState2","_slicedToArray","paymentMethod","setPaymentMethod","_useState3","_useState4","phoneNumber","setPhoneNumber","_useState5","_useState6","processing","setProcessing","_useState7","_useState8","paymentStatus","setPaymentStatus","handlePayment","_ref3","_asyncToGenerator","alert","match","text","onPress","navigate","simulateMpesaPayment","simulateCardPayment","error","message","apply","arguments","_ref4","style","setTimeout","_ref5","formatPhoneNumber","cleaned","replace","startsWith","substring","getPaymentIcon","method","getStatusColor","status","success","warning","info","textSecondary","getStatusText","styles","container","children","header","headerTitle","headerSubtitle","statusCard","Content","statusHeader","name","size","color","statusText","primary","statusLoader","summaryCard","cardTitle","summaryRow","summaryLabel","summaryValue","stations","battery_id","Date","start_time","toLocaleString","divider","totalLabel","totalValue","cost","paymentCard","paymentOption","value","paymentInfo","paymentHeader","paymentTitle","paymentDescription","label","onChangeText","mode","keyboardType","placeholder","phoneInput","left","icon","offlineCard","offlineHeader","offlineTitle","offlineText","offlineInfo","offlineInfoText","securityCard","securityHeader","securityTitle","securityText","actionButtons","payButton","loading","disabled","cancelButton","create","flex","backgroundColor","background","padding","lg","paddingTop","xl","_objectSpread","h2","marginBottom","xs","body","margin","md","surface","flexDirection","alignItems","gap","sm","h3","marginTop","marginHorizontal","justifyContent","fontWeight","marginVertical","paddingVertical","borderBottomWidth","borderBottomColor","border","marginLeft","caption","borderWidth","borderColor","lineHeight","paddingHorizontal","paddingBottom","xxl"],"sources":["C:/Users/User/Desktop/Ecolith Promps/V3/EcolithSwap/src/screens/PaymentScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  ScrollView,\n  Alert,\n} from 'react-native';\nimport {\n  Card,\n  Button,\n  TextInput,\n  RadioButton,\n  ActivityIndicator,\n  Divider,\n} from 'react-native-paper';\nimport Icon from 'react-native-vector-icons/MaterialIcons';\nimport { useData } from '../contexts/DataContext';\nimport { colors, typography, spacing } from '../utils/theme';\n\nexport default function PaymentScreen({ navigation, route }) {\n  const { rental, offline } = route.params || {};\n  const { isOnline } = useData();\n  const [paymentMethod, setPaymentMethod] = useState('mpesa');\n  const [phoneNumber, setPhoneNumber] = useState('');\n  const [processing, setProcessing] = useState(false);\n  const [paymentStatus, setPaymentStatus] = useState('pending');\n\n  useEffect(() => {\n    // Simulate payment processing for demo\n    if (offline) {\n      setPaymentStatus('offline');\n    }\n  }, [offline]);\n\n  const handlePayment = async () => {\n    if (!phoneNumber && paymentMethod === 'mpesa') {\n      Alert.alert('Phone Number Required', 'Please enter your M-Pesa phone number.');\n      return;\n    }\n\n    if (phoneNumber && !phoneNumber.match(/^254\\d{9}$/)) {\n      Alert.alert('Invalid Phone Number', 'Please enter a valid Kenyan phone number (254XXXXXXXXX).');\n      return;\n    }\n\n    try {\n      setProcessing(true);\n\n      if (offline || !isOnline) {\n        // Offline payment - stored for later processing\n        Alert.alert(\n          'Payment Recorded',\n          'Your payment has been recorded offline and will be processed when connection is restored.',\n          [\n            {\n              text: 'Continue',\n              onPress: () => navigation.navigate('HomeTab'),\n            },\n          ]\n        );\n        return;\n      }\n\n      // Simulate M-Pesa payment flow\n      if (paymentMethod === 'mpesa') {\n        await simulateMpesaPayment();\n      } else {\n        await simulateCardPayment();\n      }\n\n    } catch (error) {\n      Alert.alert('Payment Error', error.message || 'Payment failed. Please try again.');\n    } finally {\n      setProcessing(false);\n    }\n  };\n\n  const simulateMpesaPayment = async () => {\n    // Simulate M-Pesa STK push\n    setPaymentStatus('processing');\n    \n    Alert.alert(\n      'M-Pesa Payment',\n      `A payment request has been sent to ${phoneNumber}. Please check your phone and enter your M-Pesa PIN to complete the payment.`,\n      [\n        {\n          text: 'Cancel',\n          style: 'cancel',\n          onPress: () => setPaymentStatus('cancelled'),\n        },\n        {\n          text: 'Continue',\n          onPress: () => {\n            // Simulate payment completion\n            setTimeout(() => {\n              setPaymentStatus('completed');\n              Alert.alert(\n                'Payment Successful',\n                'Your payment has been processed successfully!',\n                [\n                  {\n                    text: 'View Receipt',\n                    onPress: () => navigation.navigate('HistoryTab'),\n                  },\n                  {\n                    text: 'Done',\n                    onPress: () => navigation.navigate('HomeTab'),\n                  },\n                ]\n              );\n            }, 2000);\n          },\n        },\n      ]\n    );\n  };\n\n  const simulateCardPayment = async () => {\n    // Simulate card payment processing\n    setPaymentStatus('processing');\n    \n    setTimeout(() => {\n      setPaymentStatus('completed');\n      Alert.alert(\n        'Payment Successful',\n        'Your card payment has been processed successfully!',\n        [\n          {\n            text: 'Done',\n            onPress: () => navigation.navigate('HomeTab'),\n          },\n        ]\n      );\n    }, 3000);\n  };\n\n  const formatPhoneNumber = (text) => {\n    // Auto-format phone number\n    let cleaned = text.replace(/\\D/g, '');\n    \n    if (cleaned.startsWith('0')) {\n      cleaned = '254' + cleaned.substring(1);\n    } else if (cleaned.startsWith('7') || cleaned.startsWith('1')) {\n      cleaned = '254' + cleaned;\n    }\n    \n    return cleaned;\n  };\n\n  const getPaymentIcon = (method) => {\n    switch (method) {\n      case 'mpesa':\n        return 'phone-android';\n      case 'card':\n        return 'credit-card';\n      default:\n        return 'payment';\n    }\n  };\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'completed':\n        return colors.success;\n      case 'processing':\n        return colors.warning;\n      case 'offline':\n        return colors.info;\n      case 'cancelled':\n        return colors.error;\n      default:\n        return colors.textSecondary;\n    }\n  };\n\n  const getStatusText = (status) => {\n    switch (status) {\n      case 'completed':\n        return 'Payment Completed';\n      case 'processing':\n        return 'Processing Payment...';\n      case 'offline':\n        return 'Payment Recorded Offline';\n      case 'cancelled':\n        return 'Payment Cancelled';\n      default:\n        return 'Payment Pending';\n    }\n  };\n\n  return (\n    <ScrollView style={styles.container}>\n      {/* Header */}\n      <View style={styles.header}>\n        <Text style={styles.headerTitle}>Payment</Text>\n        <Text style={styles.headerSubtitle}>\n          {offline ? 'Complete payment when online' : 'Complete your battery swap payment'}\n        </Text>\n      </View>\n\n      {/* Payment Status */}\n      <Card style={styles.statusCard}>\n        <Card.Content>\n          <View style={styles.statusHeader}>\n            <Icon\n              name={paymentStatus === 'completed' ? 'check-circle' : 'payment'}\n              size={24}\n              color={getStatusColor(paymentStatus)}\n            />\n            <Text style={[styles.statusText, { color: getStatusColor(paymentStatus) }]}>\n              {getStatusText(paymentStatus)}\n            </Text>\n          </View>\n          \n          {processing && (\n            <ActivityIndicator\n              size=\"small\"\n              color={colors.primary}\n              style={styles.statusLoader}\n            />\n          )}\n        </Card.Content>\n      </Card>\n\n      {/* Rental Summary */}\n      {rental && (\n        <Card style={styles.summaryCard}>\n          <Card.Content>\n            <Text style={styles.cardTitle}>Rental Summary</Text>\n            \n            <View style={styles.summaryRow}>\n              <Text style={styles.summaryLabel}>Station:</Text>\n              <Text style={styles.summaryValue}>{rental.stations?.name}</Text>\n            </View>\n            \n            <View style={styles.summaryRow}>\n              <Text style={styles.summaryLabel}>Battery:</Text>\n              <Text style={styles.summaryValue}>{rental.battery_id}</Text>\n            </View>\n            \n            <View style={styles.summaryRow}>\n              <Text style={styles.summaryLabel}>Start Time:</Text>\n              <Text style={styles.summaryValue}>\n                {new Date(rental.start_time).toLocaleString()}\n              </Text>\n            </View>\n            \n            <Divider style={styles.divider} />\n            \n            <View style={styles.summaryRow}>\n              <Text style={styles.totalLabel}>Amount Due:</Text>\n              <Text style={styles.totalValue}>KES {rental.cost || 50}</Text>\n            </View>\n          </Card.Content>\n        </Card>\n      )}\n\n      {/* Payment Methods */}\n      {!offline && paymentStatus === 'pending' && (\n        <Card style={styles.paymentCard}>\n          <Card.Content>\n            <Text style={styles.cardTitle}>Payment Method</Text>\n            \n            {/* M-Pesa Option */}\n            <View style={styles.paymentOption}>\n              <RadioButton\n                value=\"mpesa\"\n                status={paymentMethod === 'mpesa' ? 'checked' : 'unchecked'}\n                onPress={() => setPaymentMethod('mpesa')}\n                color={colors.primary}\n              />\n              <View style={styles.paymentInfo}>\n                <View style={styles.paymentHeader}>\n                  <Icon name=\"phone-android\" size={20} color={colors.success} />\n                  <Text style={styles.paymentTitle}>M-Pesa</Text>\n                </View>\n                <Text style={styles.paymentDescription}>\n                  Pay with your M-Pesa mobile money account\n                </Text>\n              </View>\n            </View>\n\n            {/* Card Option */}\n            <View style={styles.paymentOption}>\n              <RadioButton\n                value=\"card\"\n                status={paymentMethod === 'card' ? 'checked' : 'unchecked'}\n                onPress={() => setPaymentMethod('card')}\n                color={colors.primary}\n              />\n              <View style={styles.paymentInfo}>\n                <View style={styles.paymentHeader}>\n                  <Icon name=\"credit-card\" size={20} color={colors.info} />\n                  <Text style={styles.paymentTitle}>Debit/Credit Card</Text>\n                </View>\n                <Text style={styles.paymentDescription}>\n                  Pay with Visa, Mastercard, or local banks\n                </Text>\n              </View>\n            </View>\n\n            {/* Phone Number Input for M-Pesa */}\n            {paymentMethod === 'mpesa' && (\n              <TextInput\n                label=\"M-Pesa Phone Number\"\n                value={phoneNumber}\n                onChangeText={(text) => setPhoneNumber(formatPhoneNumber(text))}\n                mode=\"outlined\"\n                keyboardType=\"phone-pad\"\n                placeholder=\"254712345678\"\n                style={styles.phoneInput}\n                left={<TextInput.Icon icon=\"phone\" />}\n              />\n            )}\n          </Card.Content>\n        </Card>\n      )}\n\n      {/* Offline Payment Info */}\n      {offline && (\n        <Card style={styles.offlineCard}>\n          <Card.Content>\n            <View style={styles.offlineHeader}>\n              <Icon name=\"wifi-off\" size={24} color={colors.warning} />\n              <Text style={styles.offlineTitle}>Offline Payment</Text>\n            </View>\n            \n            <Text style={styles.offlineText}>\n              You are currently offline. Your rental has been recorded and payment will be processed automatically when you reconnect to the internet.\n            </Text>\n            \n            <View style={styles.offlineInfo}>\n              <Text style={styles.offlineInfoText}>\n                • Rental is active and you can use the battery\n              </Text>\n              <Text style={styles.offlineInfoText}>\n                • Payment will be processed via your default payment method\n              </Text>\n              <Text style={styles.offlineInfoText}>\n                • You'll receive a confirmation SMS when payment is complete\n              </Text>\n            </View>\n          </Card.Content>\n        </Card>\n      )}\n\n      {/* Security Info */}\n      <Card style={styles.securityCard}>\n        <Card.Content>\n          <View style={styles.securityHeader}>\n            <Icon name=\"security\" size={20} color={colors.success} />\n            <Text style={styles.securityTitle}>Secure Payment</Text>\n          </View>\n          \n          <Text style={styles.securityText}>\n            Your payment information is encrypted and secure. We never store your card details or M-Pesa PIN.\n          </Text>\n        </Card.Content>\n      </Card>\n\n      {/* Action Buttons */}\n      <View style={styles.actionButtons}>\n        {!offline && paymentStatus === 'pending' && (\n          <Button\n            mode=\"contained\"\n            onPress={handlePayment}\n            style={styles.payButton}\n            loading={processing}\n            disabled={processing}\n            icon={getPaymentIcon(paymentMethod)}\n          >\n            {processing ? 'Processing...' : `Pay KES ${rental?.cost || 50}`}\n          </Button>\n        )}\n        \n        <Button\n          mode=\"text\"\n          onPress={() => navigation.navigate('HomeTab')}\n          style={styles.cancelButton}\n          disabled={processing}\n        >\n          {offline || paymentStatus === 'completed' ? 'Continue' : 'Cancel'}\n        </Button>\n      </View>\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: colors.background,\n  },\n  header: {\n    backgroundColor: colors.primary,\n    padding: spacing.lg,\n    paddingTop: spacing.xl,\n  },\n  headerTitle: {\n    ...typography.h2,\n    color: 'white',\n    marginBottom: spacing.xs,\n  },\n  headerSubtitle: {\n    ...typography.body,\n    color: 'rgba(255, 255, 255, 0.8)',\n  },\n  statusCard: {\n    margin: spacing.md,\n    backgroundColor: colors.surface,\n  },\n  statusHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: spacing.sm,\n  },\n  statusText: {\n    ...typography.h3,\n  },\n  statusLoader: {\n    marginTop: spacing.sm,\n  },\n  summaryCard: {\n    marginHorizontal: spacing.md,\n    marginBottom: spacing.md,\n    backgroundColor: colors.surface,\n  },\n  cardTitle: {\n    ...typography.h3,\n    marginBottom: spacing.md,\n  },\n  summaryRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: spacing.sm,\n  },\n  summaryLabel: {\n    ...typography.body,\n    color: colors.textSecondary,\n  },\n  summaryValue: {\n    ...typography.body,\n    fontWeight: '600',\n  },\n  divider: {\n    marginVertical: spacing.md,\n  },\n  totalLabel: {\n    ...typography.h3,\n  },\n  totalValue: {\n    ...typography.h3,\n    color: colors.primary,\n  },\n  paymentCard: {\n    marginHorizontal: spacing.md,\n    marginBottom: spacing.md,\n    backgroundColor: colors.surface,\n  },\n  paymentOption: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingVertical: spacing.md,\n    borderBottomWidth: 1,\n    borderBottomColor: colors.border,\n  },\n  paymentInfo: {\n    marginLeft: spacing.sm,\n    flex: 1,\n  },\n  paymentHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: spacing.sm,\n    marginBottom: spacing.xs,\n  },\n  paymentTitle: {\n    ...typography.body,\n    fontWeight: '600',\n  },\n  paymentDescription: {\n    ...typography.caption,\n    color: colors.textSecondary,\n  },\n  phoneInput: {\n    marginTop: spacing.md,\n    backgroundColor: colors.background,\n  },\n  offlineCard: {\n    marginHorizontal: spacing.md,\n    marginBottom: spacing.md,\n    backgroundColor: colors.warning + '10',\n    borderWidth: 1,\n    borderColor: colors.warning,\n  },\n  offlineHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: spacing.sm,\n    marginBottom: spacing.md,\n  },\n  offlineTitle: {\n    ...typography.h3,\n    color: colors.warning,\n  },\n  offlineText: {\n    ...typography.body,\n    marginBottom: spacing.md,\n    lineHeight: 20,\n  },\n  offlineInfo: {\n    gap: spacing.xs,\n  },\n  offlineInfoText: {\n    ...typography.caption,\n    color: colors.textSecondary,\n  },\n  securityCard: {\n    marginHorizontal: spacing.md,\n    marginBottom: spacing.md,\n    backgroundColor: colors.surface,\n  },\n  securityHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: spacing.sm,\n    marginBottom: spacing.sm,\n  },\n  securityTitle: {\n    ...typography.body,\n    fontWeight: '600',\n  },\n  securityText: {\n    ...typography.caption,\n    color: colors.textSecondary,\n    lineHeight: 18,\n  },\n  actionButtons: {\n    paddingHorizontal: spacing.md,\n    paddingBottom: spacing.xxl,\n    gap: spacing.md,\n  },\n  payButton: {\n    backgroundColor: colors.primary,\n  },\n  cancelButton: {\n    marginTop: spacing.sm,\n  },\n});\n"],"mappings":";;;;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,UAAA;AAAA,OAAAC,UAAA;AAAA,OAAAC,KAAA;AAQnD,SACEC,IAAI,EACJC,MAAM,EACNC,SAAS,EACTC,WAAW,EACXC,iBAAiB,EACjBC,OAAO,QACF,oBAAoB;AAC3B,OAAOC,IAAI;AACX,SAASC,OAAO;AAChB,SAASC,MAAM,EAAEC,UAAU,EAAEC,OAAO;AAAyB,SAAAC,GAAA,IAAAC,IAAA,EAAAC,IAAA,IAAAC,KAAA;AAE7D,eAAe,SAASC,aAAaA,CAAAC,IAAA,EAAwB;EAAA,IAAAC,gBAAA;EAAA,IAArBC,UAAU,GAAAF,IAAA,CAAVE,UAAU;IAAEC,KAAK,GAAAH,IAAA,CAALG,KAAK;EACvD,IAAAC,KAAA,GAA4BD,KAAK,CAACE,MAAM,IAAI,CAAC,CAAC;IAAtCC,MAAM,GAAAF,KAAA,CAANE,MAAM;IAAEC,OAAO,GAAAH,KAAA,CAAPG,OAAO;EACvB,IAAAC,QAAA,GAAqBjB,OAAO,CAAC,CAAC;IAAtBkB,QAAQ,GAAAD,QAAA,CAARC,QAAQ;EAChB,IAAAC,SAAA,GAA0CjC,QAAQ,CAAC,OAAO,CAAC;IAAAkC,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAApDG,aAAa,GAAAF,UAAA;IAAEG,gBAAgB,GAAAH,UAAA;EACtC,IAAAI,UAAA,GAAsCtC,QAAQ,CAAC,EAAE,CAAC;IAAAuC,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAA3CE,WAAW,GAAAD,UAAA;IAAEE,cAAc,GAAAF,UAAA;EAClC,IAAAG,UAAA,GAAoC1C,QAAQ,CAAC,KAAK,CAAC;IAAA2C,UAAA,GAAAR,cAAA,CAAAO,UAAA;IAA5CE,UAAU,GAAAD,UAAA;IAAEE,aAAa,GAAAF,UAAA;EAChC,IAAAG,UAAA,GAA0C9C,QAAQ,CAAC,SAAS,CAAC;IAAA+C,UAAA,GAAAZ,cAAA,CAAAW,UAAA;IAAtDE,aAAa,GAAAD,UAAA;IAAEE,gBAAgB,GAAAF,UAAA;EAEtC9C,SAAS,CAAC,YAAM;IAEd,IAAI6B,OAAO,EAAE;MACXmB,gBAAgB,CAAC,SAAS,CAAC;IAC7B;EACF,CAAC,EAAE,CAACnB,OAAO,CAAC,CAAC;EAEb,IAAMoB,aAAa;IAAA,IAAAC,KAAA,GAAAC,iBAAA,CAAG,aAAY;MAChC,IAAI,CAACZ,WAAW,IAAIJ,aAAa,KAAK,OAAO,EAAE;QAC7C9B,KAAK,CAAC+C,KAAK,CAAC,uBAAuB,EAAE,wCAAwC,CAAC;QAC9E;MACF;MAEA,IAAIb,WAAW,IAAI,CAACA,WAAW,CAACc,KAAK,CAAC,YAAY,CAAC,EAAE;QACnDhD,KAAK,CAAC+C,KAAK,CAAC,sBAAsB,EAAE,0DAA0D,CAAC;QAC/F;MACF;MAEA,IAAI;QACFR,aAAa,CAAC,IAAI,CAAC;QAEnB,IAAIf,OAAO,IAAI,CAACE,QAAQ,EAAE;UAExB1B,KAAK,CAAC+C,KAAK,CACT,kBAAkB,EAClB,2FAA2F,EAC3F,CACE;YACEE,IAAI,EAAE,UAAU;YAChBC,OAAO,EAAE,SAATA,OAAOA,CAAA;cAAA,OAAQ/B,UAAU,CAACgC,QAAQ,CAAC,SAAS,CAAC;YAAA;UAC/C,CAAC,CAEL,CAAC;UACD;QACF;QAGA,IAAIrB,aAAa,KAAK,OAAO,EAAE;UAC7B,MAAMsB,oBAAoB,CAAC,CAAC;QAC9B,CAAC,MAAM;UACL,MAAMC,mBAAmB,CAAC,CAAC;QAC7B;MAEF,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdtD,KAAK,CAAC+C,KAAK,CAAC,eAAe,EAAEO,KAAK,CAACC,OAAO,IAAI,mCAAmC,CAAC;MACpF,CAAC,SAAS;QACRhB,aAAa,CAAC,KAAK,CAAC;MACtB;IACF,CAAC;IAAA,gBAzCKK,aAAaA,CAAA;MAAA,OAAAC,KAAA,CAAAW,KAAA,OAAAC,SAAA;IAAA;EAAA,GAyClB;EAED,IAAML,oBAAoB;IAAA,IAAAM,KAAA,GAAAZ,iBAAA,CAAG,aAAY;MAEvCH,gBAAgB,CAAC,YAAY,CAAC;MAE9B3C,KAAK,CAAC+C,KAAK,CACT,gBAAgB,EAChB,sCAAsCb,WAAW,8EAA8E,EAC/H,CACE;QACEe,IAAI,EAAE,QAAQ;QACdU,KAAK,EAAE,QAAQ;QACfT,OAAO,EAAE,SAATA,OAAOA,CAAA;UAAA,OAAQP,gBAAgB,CAAC,WAAW,CAAC;QAAA;MAC9C,CAAC,EACD;QACEM,IAAI,EAAE,UAAU;QAChBC,OAAO,EAAE,SAATA,OAAOA,CAAA,EAAQ;UAEbU,UAAU,CAAC,YAAM;YACfjB,gBAAgB,CAAC,WAAW,CAAC;YAC7B3C,KAAK,CAAC+C,KAAK,CACT,oBAAoB,EACpB,+CAA+C,EAC/C,CACE;cACEE,IAAI,EAAE,cAAc;cACpBC,OAAO,EAAE,SAATA,OAAOA,CAAA;gBAAA,OAAQ/B,UAAU,CAACgC,QAAQ,CAAC,YAAY,CAAC;cAAA;YAClD,CAAC,EACD;cACEF,IAAI,EAAE,MAAM;cACZC,OAAO,EAAE,SAATA,OAAOA,CAAA;gBAAA,OAAQ/B,UAAU,CAACgC,QAAQ,CAAC,SAAS,CAAC;cAAA;YAC/C,CAAC,CAEL,CAAC;UACH,CAAC,EAAE,IAAI,CAAC;QACV;MACF,CAAC,CAEL,CAAC;IACH,CAAC;IAAA,gBAtCKC,oBAAoBA,CAAA;MAAA,OAAAM,KAAA,CAAAF,KAAA,OAAAC,SAAA;IAAA;EAAA,GAsCzB;EAED,IAAMJ,mBAAmB;IAAA,IAAAQ,KAAA,GAAAf,iBAAA,CAAG,aAAY;MAEtCH,gBAAgB,CAAC,YAAY,CAAC;MAE9BiB,UAAU,CAAC,YAAM;QACfjB,gBAAgB,CAAC,WAAW,CAAC;QAC7B3C,KAAK,CAAC+C,KAAK,CACT,oBAAoB,EACpB,oDAAoD,EACpD,CACE;UACEE,IAAI,EAAE,MAAM;UACZC,OAAO,EAAE,SAATA,OAAOA,CAAA;YAAA,OAAQ/B,UAAU,CAACgC,QAAQ,CAAC,SAAS,CAAC;UAAA;QAC/C,CAAC,CAEL,CAAC;MACH,CAAC,EAAE,IAAI,CAAC;IACV,CAAC;IAAA,gBAjBKE,mBAAmBA,CAAA;MAAA,OAAAQ,KAAA,CAAAL,KAAA,OAAAC,SAAA;IAAA;EAAA,GAiBxB;EAED,IAAMK,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAIb,IAAI,EAAK;IAElC,IAAIc,OAAO,GAAGd,IAAI,CAACe,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;IAErC,IAAID,OAAO,CAACE,UAAU,CAAC,GAAG,CAAC,EAAE;MAC3BF,OAAO,GAAG,KAAK,GAAGA,OAAO,CAACG,SAAS,CAAC,CAAC,CAAC;IACxC,CAAC,MAAM,IAAIH,OAAO,CAACE,UAAU,CAAC,GAAG,CAAC,IAAIF,OAAO,CAACE,UAAU,CAAC,GAAG,CAAC,EAAE;MAC7DF,OAAO,GAAG,KAAK,GAAGA,OAAO;IAC3B;IAEA,OAAOA,OAAO;EAChB,CAAC;EAED,IAAMI,cAAc,GAAG,SAAjBA,cAAcA,CAAIC,MAAM,EAAK;IACjC,QAAQA,MAAM;MACZ,KAAK,OAAO;QACV,OAAO,eAAe;MACxB,KAAK,MAAM;QACT,OAAO,aAAa;MACtB;QACE,OAAO,SAAS;IACpB;EACF,CAAC;EAED,IAAMC,cAAc,GAAG,SAAjBA,cAAcA,CAAIC,MAAM,EAAK;IACjC,QAAQA,MAAM;MACZ,KAAK,WAAW;QACd,OAAO7D,MAAM,CAAC8D,OAAO;MACvB,KAAK,YAAY;QACf,OAAO9D,MAAM,CAAC+D,OAAO;MACvB,KAAK,SAAS;QACZ,OAAO/D,MAAM,CAACgE,IAAI;MACpB,KAAK,WAAW;QACd,OAAOhE,MAAM,CAAC6C,KAAK;MACrB;QACE,OAAO7C,MAAM,CAACiE,aAAa;IAC/B;EACF,CAAC;EAED,IAAMC,aAAa,GAAG,SAAhBA,aAAaA,CAAIL,MAAM,EAAK;IAChC,QAAQA,MAAM;MACZ,KAAK,WAAW;QACd,OAAO,mBAAmB;MAC5B,KAAK,YAAY;QACf,OAAO,uBAAuB;MAChC,KAAK,SAAS;QACZ,OAAO,0BAA0B;MACnC,KAAK,WAAW;QACd,OAAO,mBAAmB;MAC5B;QACE,OAAO,iBAAiB;IAC5B;EACF,CAAC;EAED,OACEvD,KAAA,CAAChB,UAAU;IAAC4D,KAAK,EAAEiB,MAAM,CAACC,SAAU;IAAAC,QAAA,GAElC/D,KAAA,CAACnB,IAAI;MAAC+D,KAAK,EAAEiB,MAAM,CAACG,MAAO;MAAAD,QAAA,GACzBjE,IAAA,CAAChB,IAAI;QAAC8D,KAAK,EAAEiB,MAAM,CAACI,WAAY;QAAAF,QAAA,EAAC;MAAO,CAAM,CAAC,EAC/CjE,IAAA,CAAChB,IAAI;QAAC8D,KAAK,EAAEiB,MAAM,CAACK,cAAe;QAAAH,QAAA,EAChCtD,OAAO,GAAG,8BAA8B,GAAG;MAAoC,CAC5E,CAAC;IAAA,CACH,CAAC,EAGPX,IAAA,CAACZ,IAAI;MAAC0D,KAAK,EAAEiB,MAAM,CAACM,UAAW;MAAAJ,QAAA,EAC7B/D,KAAA,CAACd,IAAI,CAACkF,OAAO;QAAAL,QAAA,GACX/D,KAAA,CAACnB,IAAI;UAAC+D,KAAK,EAAEiB,MAAM,CAACQ,YAAa;UAAAN,QAAA,GAC/BjE,IAAA,CAACN,IAAI;YACH8E,IAAI,EAAE3C,aAAa,KAAK,WAAW,GAAG,cAAc,GAAG,SAAU;YACjE4C,IAAI,EAAE,EAAG;YACTC,KAAK,EAAElB,cAAc,CAAC3B,aAAa;UAAE,CACtC,CAAC,EACF7B,IAAA,CAAChB,IAAI;YAAC8D,KAAK,EAAE,CAACiB,MAAM,CAACY,UAAU,EAAE;cAAED,KAAK,EAAElB,cAAc,CAAC3B,aAAa;YAAE,CAAC,CAAE;YAAAoC,QAAA,EACxEH,aAAa,CAACjC,aAAa;UAAC,CACzB,CAAC;QAAA,CACH,CAAC,EAENJ,UAAU,IACTzB,IAAA,CAACR,iBAAiB;UAChBiF,IAAI,EAAC,OAAO;UACZC,KAAK,EAAE9E,MAAM,CAACgF,OAAQ;UACtB9B,KAAK,EAAEiB,MAAM,CAACc;QAAa,CAC5B,CACF;MAAA,CACW;IAAC,CACX,CAAC,EAGNnE,MAAM,IACLV,IAAA,CAACZ,IAAI;MAAC0D,KAAK,EAAEiB,MAAM,CAACe,WAAY;MAAAb,QAAA,EAC9B/D,KAAA,CAACd,IAAI,CAACkF,OAAO;QAAAL,QAAA,GACXjE,IAAA,CAAChB,IAAI;UAAC8D,KAAK,EAAEiB,MAAM,CAACgB,SAAU;UAAAd,QAAA,EAAC;QAAc,CAAM,CAAC,EAEpD/D,KAAA,CAACnB,IAAI;UAAC+D,KAAK,EAAEiB,MAAM,CAACiB,UAAW;UAAAf,QAAA,GAC7BjE,IAAA,CAAChB,IAAI;YAAC8D,KAAK,EAAEiB,MAAM,CAACkB,YAAa;YAAAhB,QAAA,EAAC;UAAQ,CAAM,CAAC,EACjDjE,IAAA,CAAChB,IAAI;YAAC8D,KAAK,EAAEiB,MAAM,CAACmB,YAAa;YAAAjB,QAAA,GAAA5D,gBAAA,GAAEK,MAAM,CAACyE,QAAQ,qBAAf9E,gBAAA,CAAiBmE;UAAI,CAAO,CAAC;QAAA,CAC5D,CAAC,EAEPtE,KAAA,CAACnB,IAAI;UAAC+D,KAAK,EAAEiB,MAAM,CAACiB,UAAW;UAAAf,QAAA,GAC7BjE,IAAA,CAAChB,IAAI;YAAC8D,KAAK,EAAEiB,MAAM,CAACkB,YAAa;YAAAhB,QAAA,EAAC;UAAQ,CAAM,CAAC,EACjDjE,IAAA,CAAChB,IAAI;YAAC8D,KAAK,EAAEiB,MAAM,CAACmB,YAAa;YAAAjB,QAAA,EAAEvD,MAAM,CAAC0E;UAAU,CAAO,CAAC;QAAA,CACxD,CAAC,EAEPlF,KAAA,CAACnB,IAAI;UAAC+D,KAAK,EAAEiB,MAAM,CAACiB,UAAW;UAAAf,QAAA,GAC7BjE,IAAA,CAAChB,IAAI;YAAC8D,KAAK,EAAEiB,MAAM,CAACkB,YAAa;YAAAhB,QAAA,EAAC;UAAW,CAAM,CAAC,EACpDjE,IAAA,CAAChB,IAAI;YAAC8D,KAAK,EAAEiB,MAAM,CAACmB,YAAa;YAAAjB,QAAA,EAC9B,IAAIoB,IAAI,CAAC3E,MAAM,CAAC4E,UAAU,CAAC,CAACC,cAAc,CAAC;UAAC,CACzC,CAAC;QAAA,CACH,CAAC,EAEPvF,IAAA,CAACP,OAAO;UAACqD,KAAK,EAAEiB,MAAM,CAACyB;QAAQ,CAAE,CAAC,EAElCtF,KAAA,CAACnB,IAAI;UAAC+D,KAAK,EAAEiB,MAAM,CAACiB,UAAW;UAAAf,QAAA,GAC7BjE,IAAA,CAAChB,IAAI;YAAC8D,KAAK,EAAEiB,MAAM,CAAC0B,UAAW;YAAAxB,QAAA,EAAC;UAAW,CAAM,CAAC,EAClD/D,KAAA,CAAClB,IAAI;YAAC8D,KAAK,EAAEiB,MAAM,CAAC2B,UAAW;YAAAzB,QAAA,GAAC,MAAI,EAACvD,MAAM,CAACiF,IAAI,IAAI,EAAE;UAAA,CAAO,CAAC;QAAA,CAC1D,CAAC;MAAA,CACK;IAAC,CACX,CACP,EAGA,CAAChF,OAAO,IAAIkB,aAAa,KAAK,SAAS,IACtC7B,IAAA,CAACZ,IAAI;MAAC0D,KAAK,EAAEiB,MAAM,CAAC6B,WAAY;MAAA3B,QAAA,EAC9B/D,KAAA,CAACd,IAAI,CAACkF,OAAO;QAAAL,QAAA,GACXjE,IAAA,CAAChB,IAAI;UAAC8D,KAAK,EAAEiB,MAAM,CAACgB,SAAU;UAAAd,QAAA,EAAC;QAAc,CAAM,CAAC,EAGpD/D,KAAA,CAACnB,IAAI;UAAC+D,KAAK,EAAEiB,MAAM,CAAC8B,aAAc;UAAA5B,QAAA,GAChCjE,IAAA,CAACT,WAAW;YACVuG,KAAK,EAAC,OAAO;YACbrC,MAAM,EAAExC,aAAa,KAAK,OAAO,GAAG,SAAS,GAAG,WAAY;YAC5DoB,OAAO,EAAE,SAATA,OAAOA,CAAA;cAAA,OAAQnB,gBAAgB,CAAC,OAAO,CAAC;YAAA,CAAC;YACzCwD,KAAK,EAAE9E,MAAM,CAACgF;UAAQ,CACvB,CAAC,EACF1E,KAAA,CAACnB,IAAI;YAAC+D,KAAK,EAAEiB,MAAM,CAACgC,WAAY;YAAA9B,QAAA,GAC9B/D,KAAA,CAACnB,IAAI;cAAC+D,KAAK,EAAEiB,MAAM,CAACiC,aAAc;cAAA/B,QAAA,GAChCjE,IAAA,CAACN,IAAI;gBAAC8E,IAAI,EAAC,eAAe;gBAACC,IAAI,EAAE,EAAG;gBAACC,KAAK,EAAE9E,MAAM,CAAC8D;cAAQ,CAAE,CAAC,EAC9D1D,IAAA,CAAChB,IAAI;gBAAC8D,KAAK,EAAEiB,MAAM,CAACkC,YAAa;gBAAAhC,QAAA,EAAC;cAAM,CAAM,CAAC;YAAA,CAC3C,CAAC,EACPjE,IAAA,CAAChB,IAAI;cAAC8D,KAAK,EAAEiB,MAAM,CAACmC,kBAAmB;cAAAjC,QAAA,EAAC;YAExC,CAAM,CAAC;UAAA,CACH,CAAC;QAAA,CACH,CAAC,EAGP/D,KAAA,CAACnB,IAAI;UAAC+D,KAAK,EAAEiB,MAAM,CAAC8B,aAAc;UAAA5B,QAAA,GAChCjE,IAAA,CAACT,WAAW;YACVuG,KAAK,EAAC,MAAM;YACZrC,MAAM,EAAExC,aAAa,KAAK,MAAM,GAAG,SAAS,GAAG,WAAY;YAC3DoB,OAAO,EAAE,SAATA,OAAOA,CAAA;cAAA,OAAQnB,gBAAgB,CAAC,MAAM,CAAC;YAAA,CAAC;YACxCwD,KAAK,EAAE9E,MAAM,CAACgF;UAAQ,CACvB,CAAC,EACF1E,KAAA,CAACnB,IAAI;YAAC+D,KAAK,EAAEiB,MAAM,CAACgC,WAAY;YAAA9B,QAAA,GAC9B/D,KAAA,CAACnB,IAAI;cAAC+D,KAAK,EAAEiB,MAAM,CAACiC,aAAc;cAAA/B,QAAA,GAChCjE,IAAA,CAACN,IAAI;gBAAC8E,IAAI,EAAC,aAAa;gBAACC,IAAI,EAAE,EAAG;gBAACC,KAAK,EAAE9E,MAAM,CAACgE;cAAK,CAAE,CAAC,EACzD5D,IAAA,CAAChB,IAAI;gBAAC8D,KAAK,EAAEiB,MAAM,CAACkC,YAAa;gBAAAhC,QAAA,EAAC;cAAiB,CAAM,CAAC;YAAA,CACtD,CAAC,EACPjE,IAAA,CAAChB,IAAI;cAAC8D,KAAK,EAAEiB,MAAM,CAACmC,kBAAmB;cAAAjC,QAAA,EAAC;YAExC,CAAM,CAAC;UAAA,CACH,CAAC;QAAA,CACH,CAAC,EAGNhD,aAAa,KAAK,OAAO,IACxBjB,IAAA,CAACV,SAAS;UACR6G,KAAK,EAAC,qBAAqB;UAC3BL,KAAK,EAAEzE,WAAY;UACnB+E,YAAY,EAAE,SAAdA,YAAYA,CAAGhE,IAAI;YAAA,OAAKd,cAAc,CAAC2B,iBAAiB,CAACb,IAAI,CAAC,CAAC;UAAA,CAAC;UAChEiE,IAAI,EAAC,UAAU;UACfC,YAAY,EAAC,WAAW;UACxBC,WAAW,EAAC,cAAc;UAC1BzD,KAAK,EAAEiB,MAAM,CAACyC,UAAW;UACzBC,IAAI,EAAEzG,IAAA,CAACV,SAAS,CAACI,IAAI;YAACgH,IAAI,EAAC;UAAO,CAAE;QAAE,CACvC,CACF;MAAA,CACW;IAAC,CACX,CACP,EAGA/F,OAAO,IACNX,IAAA,CAACZ,IAAI;MAAC0D,KAAK,EAAEiB,MAAM,CAAC4C,WAAY;MAAA1C,QAAA,EAC9B/D,KAAA,CAACd,IAAI,CAACkF,OAAO;QAAAL,QAAA,GACX/D,KAAA,CAACnB,IAAI;UAAC+D,KAAK,EAAEiB,MAAM,CAAC6C,aAAc;UAAA3C,QAAA,GAChCjE,IAAA,CAACN,IAAI;YAAC8E,IAAI,EAAC,UAAU;YAACC,IAAI,EAAE,EAAG;YAACC,KAAK,EAAE9E,MAAM,CAAC+D;UAAQ,CAAE,CAAC,EACzD3D,IAAA,CAAChB,IAAI;YAAC8D,KAAK,EAAEiB,MAAM,CAAC8C,YAAa;YAAA5C,QAAA,EAAC;UAAe,CAAM,CAAC;QAAA,CACpD,CAAC,EAEPjE,IAAA,CAAChB,IAAI;UAAC8D,KAAK,EAAEiB,MAAM,CAAC+C,WAAY;UAAA7C,QAAA,EAAC;QAEjC,CAAM,CAAC,EAEP/D,KAAA,CAACnB,IAAI;UAAC+D,KAAK,EAAEiB,MAAM,CAACgD,WAAY;UAAA9C,QAAA,GAC9BjE,IAAA,CAAChB,IAAI;YAAC8D,KAAK,EAAEiB,MAAM,CAACiD,eAAgB;YAAA/C,QAAA,EAAC;UAErC,CAAM,CAAC,EACPjE,IAAA,CAAChB,IAAI;YAAC8D,KAAK,EAAEiB,MAAM,CAACiD,eAAgB;YAAA/C,QAAA,EAAC;UAErC,CAAM,CAAC,EACPjE,IAAA,CAAChB,IAAI;YAAC8D,KAAK,EAAEiB,MAAM,CAACiD,eAAgB;YAAA/C,QAAA,EAAC;UAErC,CAAM,CAAC;QAAA,CACH,CAAC;MAAA,CACK;IAAC,CACX,CACP,EAGDjE,IAAA,CAACZ,IAAI;MAAC0D,KAAK,EAAEiB,MAAM,CAACkD,YAAa;MAAAhD,QAAA,EAC/B/D,KAAA,CAACd,IAAI,CAACkF,OAAO;QAAAL,QAAA,GACX/D,KAAA,CAACnB,IAAI;UAAC+D,KAAK,EAAEiB,MAAM,CAACmD,cAAe;UAAAjD,QAAA,GACjCjE,IAAA,CAACN,IAAI;YAAC8E,IAAI,EAAC,UAAU;YAACC,IAAI,EAAE,EAAG;YAACC,KAAK,EAAE9E,MAAM,CAAC8D;UAAQ,CAAE,CAAC,EACzD1D,IAAA,CAAChB,IAAI;YAAC8D,KAAK,EAAEiB,MAAM,CAACoD,aAAc;YAAAlD,QAAA,EAAC;UAAc,CAAM,CAAC;QAAA,CACpD,CAAC,EAEPjE,IAAA,CAAChB,IAAI;UAAC8D,KAAK,EAAEiB,MAAM,CAACqD,YAAa;UAAAnD,QAAA,EAAC;QAElC,CAAM,CAAC;MAAA,CACK;IAAC,CACX,CAAC,EAGP/D,KAAA,CAACnB,IAAI;MAAC+D,KAAK,EAAEiB,MAAM,CAACsD,aAAc;MAAApD,QAAA,GAC/B,CAACtD,OAAO,IAAIkB,aAAa,KAAK,SAAS,IACtC7B,IAAA,CAACX,MAAM;QACLgH,IAAI,EAAC,WAAW;QAChBhE,OAAO,EAAEN,aAAc;QACvBe,KAAK,EAAEiB,MAAM,CAACuD,SAAU;QACxBC,OAAO,EAAE9F,UAAW;QACpB+F,QAAQ,EAAE/F,UAAW;QACrBiF,IAAI,EAAEpD,cAAc,CAACrC,aAAa,CAAE;QAAAgD,QAAA,EAEnCxC,UAAU,GAAG,eAAe,GAAG,WAAW,CAAAf,MAAM,oBAANA,MAAM,CAAEiF,IAAI,KAAI,EAAE;MAAE,CACzD,CACT,EAED3F,IAAA,CAACX,MAAM;QACLgH,IAAI,EAAC,MAAM;QACXhE,OAAO,EAAE,SAATA,OAAOA,CAAA;UAAA,OAAQ/B,UAAU,CAACgC,QAAQ,CAAC,SAAS,CAAC;QAAA,CAAC;QAC9CQ,KAAK,EAAEiB,MAAM,CAAC0D,YAAa;QAC3BD,QAAQ,EAAE/F,UAAW;QAAAwC,QAAA,EAEpBtD,OAAO,IAAIkB,aAAa,KAAK,WAAW,GAAG,UAAU,GAAG;MAAQ,CAC3D,CAAC;IAAA,CACL,CAAC;EAAA,CACG,CAAC;AAEjB;AAEA,IAAMkC,MAAM,GAAG9E,UAAU,CAACyI,MAAM,CAAC;EAC/B1D,SAAS,EAAE;IACT2D,IAAI,EAAE,CAAC;IACPC,eAAe,EAAEhI,MAAM,CAACiI;EAC1B,CAAC;EACD3D,MAAM,EAAE;IACN0D,eAAe,EAAEhI,MAAM,CAACgF,OAAO;IAC/BkD,OAAO,EAAEhI,OAAO,CAACiI,EAAE;IACnBC,UAAU,EAAElI,OAAO,CAACmI;EACtB,CAAC;EACD9D,WAAW,EAAA+D,aAAA,CAAAA,aAAA,KACNrI,UAAU,CAACsI,EAAE;IAChBzD,KAAK,EAAE,OAAO;IACd0D,YAAY,EAAEtI,OAAO,CAACuI;EAAE,EACzB;EACDjE,cAAc,EAAA8D,aAAA,CAAAA,aAAA,KACTrI,UAAU,CAACyI,IAAI;IAClB5D,KAAK,EAAE;EAA0B,EAClC;EACDL,UAAU,EAAE;IACVkE,MAAM,EAAEzI,OAAO,CAAC0I,EAAE;IAClBZ,eAAe,EAAEhI,MAAM,CAAC6I;EAC1B,CAAC;EACDlE,YAAY,EAAE;IACZmE,aAAa,EAAE,KAAK;IACpBC,UAAU,EAAE,QAAQ;IACpBC,GAAG,EAAE9I,OAAO,CAAC+I;EACf,CAAC;EACDlE,UAAU,EAAAuD,aAAA,KACLrI,UAAU,CAACiJ,EAAE,CACjB;EACDjE,YAAY,EAAE;IACZkE,SAAS,EAAEjJ,OAAO,CAAC+I;EACrB,CAAC;EACD/D,WAAW,EAAE;IACXkE,gBAAgB,EAAElJ,OAAO,CAAC0I,EAAE;IAC5BJ,YAAY,EAAEtI,OAAO,CAAC0I,EAAE;IACxBZ,eAAe,EAAEhI,MAAM,CAAC6I;EAC1B,CAAC;EACD1D,SAAS,EAAAmD,aAAA,CAAAA,aAAA,KACJrI,UAAU,CAACiJ,EAAE;IAChBV,YAAY,EAAEtI,OAAO,CAAC0I;EAAE,EACzB;EACDxD,UAAU,EAAE;IACV0D,aAAa,EAAE,KAAK;IACpBO,cAAc,EAAE,eAAe;IAC/BN,UAAU,EAAE,QAAQ;IACpBP,YAAY,EAAEtI,OAAO,CAAC+I;EACxB,CAAC;EACD5D,YAAY,EAAAiD,aAAA,CAAAA,aAAA,KACPrI,UAAU,CAACyI,IAAI;IAClB5D,KAAK,EAAE9E,MAAM,CAACiE;EAAa,EAC5B;EACDqB,YAAY,EAAAgD,aAAA,CAAAA,aAAA,KACPrI,UAAU,CAACyI,IAAI;IAClBY,UAAU,EAAE;EAAK,EAClB;EACD1D,OAAO,EAAE;IACP2D,cAAc,EAAErJ,OAAO,CAAC0I;EAC1B,CAAC;EACD/C,UAAU,EAAAyC,aAAA,KACLrI,UAAU,CAACiJ,EAAE,CACjB;EACDpD,UAAU,EAAAwC,aAAA,CAAAA,aAAA,KACLrI,UAAU,CAACiJ,EAAE;IAChBpE,KAAK,EAAE9E,MAAM,CAACgF;EAAO,EACtB;EACDgB,WAAW,EAAE;IACXoD,gBAAgB,EAAElJ,OAAO,CAAC0I,EAAE;IAC5BJ,YAAY,EAAEtI,OAAO,CAAC0I,EAAE;IACxBZ,eAAe,EAAEhI,MAAM,CAAC6I;EAC1B,CAAC;EACD5C,aAAa,EAAE;IACb6C,aAAa,EAAE,KAAK;IACpBC,UAAU,EAAE,QAAQ;IACpBS,eAAe,EAAEtJ,OAAO,CAAC0I,EAAE;IAC3Ba,iBAAiB,EAAE,CAAC;IACpBC,iBAAiB,EAAE1J,MAAM,CAAC2J;EAC5B,CAAC;EACDxD,WAAW,EAAE;IACXyD,UAAU,EAAE1J,OAAO,CAAC+I,EAAE;IACtBlB,IAAI,EAAE;EACR,CAAC;EACD3B,aAAa,EAAE;IACb0C,aAAa,EAAE,KAAK;IACpBC,UAAU,EAAE,QAAQ;IACpBC,GAAG,EAAE9I,OAAO,CAAC+I,EAAE;IACfT,YAAY,EAAEtI,OAAO,CAACuI;EACxB,CAAC;EACDpC,YAAY,EAAAiC,aAAA,CAAAA,aAAA,KACPrI,UAAU,CAACyI,IAAI;IAClBY,UAAU,EAAE;EAAK,EAClB;EACDhD,kBAAkB,EAAAgC,aAAA,CAAAA,aAAA,KACbrI,UAAU,CAAC4J,OAAO;IACrB/E,KAAK,EAAE9E,MAAM,CAACiE;EAAa,EAC5B;EACD2C,UAAU,EAAE;IACVuC,SAAS,EAAEjJ,OAAO,CAAC0I,EAAE;IACrBZ,eAAe,EAAEhI,MAAM,CAACiI;EAC1B,CAAC;EACDlB,WAAW,EAAE;IACXqC,gBAAgB,EAAElJ,OAAO,CAAC0I,EAAE;IAC5BJ,YAAY,EAAEtI,OAAO,CAAC0I,EAAE;IACxBZ,eAAe,EAAEhI,MAAM,CAAC+D,OAAO,GAAG,IAAI;IACtC+F,WAAW,EAAE,CAAC;IACdC,WAAW,EAAE/J,MAAM,CAAC+D;EACtB,CAAC;EACDiD,aAAa,EAAE;IACb8B,aAAa,EAAE,KAAK;IACpBC,UAAU,EAAE,QAAQ;IACpBC,GAAG,EAAE9I,OAAO,CAAC+I,EAAE;IACfT,YAAY,EAAEtI,OAAO,CAAC0I;EACxB,CAAC;EACD3B,YAAY,EAAAqB,aAAA,CAAAA,aAAA,KACPrI,UAAU,CAACiJ,EAAE;IAChBpE,KAAK,EAAE9E,MAAM,CAAC+D;EAAO,EACtB;EACDmD,WAAW,EAAAoB,aAAA,CAAAA,aAAA,KACNrI,UAAU,CAACyI,IAAI;IAClBF,YAAY,EAAEtI,OAAO,CAAC0I,EAAE;IACxBoB,UAAU,EAAE;EAAE,EACf;EACD7C,WAAW,EAAE;IACX6B,GAAG,EAAE9I,OAAO,CAACuI;EACf,CAAC;EACDrB,eAAe,EAAAkB,aAAA,CAAAA,aAAA,KACVrI,UAAU,CAAC4J,OAAO;IACrB/E,KAAK,EAAE9E,MAAM,CAACiE;EAAa,EAC5B;EACDoD,YAAY,EAAE;IACZ+B,gBAAgB,EAAElJ,OAAO,CAAC0I,EAAE;IAC5BJ,YAAY,EAAEtI,OAAO,CAAC0I,EAAE;IACxBZ,eAAe,EAAEhI,MAAM,CAAC6I;EAC1B,CAAC;EACDvB,cAAc,EAAE;IACdwB,aAAa,EAAE,KAAK;IACpBC,UAAU,EAAE,QAAQ;IACpBC,GAAG,EAAE9I,OAAO,CAAC+I,EAAE;IACfT,YAAY,EAAEtI,OAAO,CAAC+I;EACxB,CAAC;EACD1B,aAAa,EAAAe,aAAA,CAAAA,aAAA,KACRrI,UAAU,CAACyI,IAAI;IAClBY,UAAU,EAAE;EAAK,EAClB;EACD9B,YAAY,EAAAc,aAAA,CAAAA,aAAA,KACPrI,UAAU,CAAC4J,OAAO;IACrB/E,KAAK,EAAE9E,MAAM,CAACiE,aAAa;IAC3B+F,UAAU,EAAE;EAAE,EACf;EACDvC,aAAa,EAAE;IACbwC,iBAAiB,EAAE/J,OAAO,CAAC0I,EAAE;IAC7BsB,aAAa,EAAEhK,OAAO,CAACiK,GAAG;IAC1BnB,GAAG,EAAE9I,OAAO,CAAC0I;EACf,CAAC;EACDlB,SAAS,EAAE;IACTM,eAAe,EAAEhI,MAAM,CAACgF;EAC1B,CAAC;EACD6C,YAAY,EAAE;IACZsB,SAAS,EAAEjJ,OAAO,CAAC+I;EACrB;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}