{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { createContext, useContext, useReducer, useEffect } from 'react';\nimport authService from \"../services/authService\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar initialState = {\n  user: null,\n  isAuthenticated: false,\n  isLoading: true,\n  error: null\n};\nvar AUTH_ACTIONS = {\n  LOGIN_START: 'LOGIN_START',\n  LOGIN_SUCCESS: 'LOGIN_SUCCESS',\n  LOGIN_FAILURE: 'LOGIN_FAILURE',\n  LOGOUT: 'LOGOUT',\n  REGISTER_START: 'REGISTER_START',\n  REGISTER_SUCCESS: 'REGISTER_SUCCESS',\n  REGISTER_FAILURE: 'REGISTER_FAILURE',\n  UPDATE_PROFILE: 'UPDATE_PROFILE',\n  SET_LOADING: 'SET_LOADING',\n  CLEAR_ERROR: 'CLEAR_ERROR',\n  INITIALIZE_SUCCESS: 'INITIALIZE_SUCCESS',\n  INITIALIZE_FAILURE: 'INITIALIZE_FAILURE'\n};\nfunction authReducer(state, action) {\n  switch (action.type) {\n    case AUTH_ACTIONS.LOGIN_START:\n    case AUTH_ACTIONS.REGISTER_START:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isLoading: true,\n        error: null\n      });\n    case AUTH_ACTIONS.LOGIN_SUCCESS:\n    case AUTH_ACTIONS.REGISTER_SUCCESS:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        user: action.payload.user,\n        isAuthenticated: true,\n        isLoading: false,\n        error: null\n      });\n    case AUTH_ACTIONS.LOGIN_FAILURE:\n    case AUTH_ACTIONS.REGISTER_FAILURE:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        user: null,\n        isAuthenticated: false,\n        isLoading: false,\n        error: action.payload.error\n      });\n    case AUTH_ACTIONS.LOGOUT:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        user: null,\n        isAuthenticated: false,\n        isLoading: false,\n        error: null\n      });\n    case AUTH_ACTIONS.UPDATE_PROFILE:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        user: _objectSpread(_objectSpread({}, state.user), action.payload.updates)\n      });\n    case AUTH_ACTIONS.SET_LOADING:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isLoading: action.payload.isLoading\n      });\n    case AUTH_ACTIONS.CLEAR_ERROR:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        error: null\n      });\n    case AUTH_ACTIONS.INITIALIZE_SUCCESS:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        user: action.payload.user,\n        isAuthenticated: true,\n        isLoading: false,\n        error: null\n      });\n    case AUTH_ACTIONS.INITIALIZE_FAILURE:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        user: null,\n        isAuthenticated: false,\n        isLoading: false,\n        error: null\n      });\n    default:\n      return state;\n  }\n}\nvar AuthContext = createContext();\nexport function AuthProvider(_ref) {\n  var children = _ref.children;\n  var _useReducer = useReducer(authReducer, initialState),\n    _useReducer2 = _slicedToArray(_useReducer, 2),\n    state = _useReducer2[0],\n    dispatch = _useReducer2[1];\n  useEffect(function () {\n    initializeAuth();\n  }, []);\n  var initializeAuth = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      try {\n        var isInitialized = yield authService.initialize();\n        if (isInitialized) {\n          var user = authService.getCurrentUserData();\n          dispatch({\n            type: AUTH_ACTIONS.INITIALIZE_SUCCESS,\n            payload: {\n              user: user\n            }\n          });\n        } else {\n          dispatch({\n            type: AUTH_ACTIONS.INITIALIZE_FAILURE\n          });\n        }\n      } catch (error) {\n        console.error('Auth initialization error:', error);\n        dispatch({\n          type: AUTH_ACTIONS.INITIALIZE_FAILURE\n        });\n      }\n    });\n    return function initializeAuth() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var login = function () {\n    var _ref3 = _asyncToGenerator(function* (email, password) {\n      dispatch({\n        type: AUTH_ACTIONS.LOGIN_START\n      });\n      try {\n        var response = yield authService.login(email, password);\n        dispatch({\n          type: AUTH_ACTIONS.LOGIN_SUCCESS,\n          payload: {\n            user: response.user\n          }\n        });\n        return response;\n      } catch (error) {\n        var errorMessage = error.message || 'Login failed';\n        dispatch({\n          type: AUTH_ACTIONS.LOGIN_FAILURE,\n          payload: {\n            error: errorMessage\n          }\n        });\n        throw error;\n      }\n    });\n    return function login(_x, _x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var register = function () {\n    var _ref4 = _asyncToGenerator(function* (userData) {\n      dispatch({\n        type: AUTH_ACTIONS.REGISTER_START\n      });\n      try {\n        var response = yield authService.register(userData);\n        dispatch({\n          type: AUTH_ACTIONS.REGISTER_SUCCESS,\n          payload: {\n            user: response.user\n          }\n        });\n        return response;\n      } catch (error) {\n        var errorMessage = error.message || 'Registration failed';\n        dispatch({\n          type: AUTH_ACTIONS.REGISTER_FAILURE,\n          payload: {\n            error: errorMessage\n          }\n        });\n        throw error;\n      }\n    });\n    return function register(_x3) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var logout = function () {\n    var _ref5 = _asyncToGenerator(function* () {\n      try {\n        yield authService.logout();\n        dispatch({\n          type: AUTH_ACTIONS.LOGOUT\n        });\n      } catch (error) {\n        console.error('Logout error:', error);\n        dispatch({\n          type: AUTH_ACTIONS.LOGOUT\n        });\n      }\n    });\n    return function logout() {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  var updateProfile = function () {\n    var _ref6 = _asyncToGenerator(function* (profileData) {\n      try {\n        yield authService.updateProfile(profileData);\n        var updatedUser = authService.getCurrentUserData();\n        dispatch({\n          type: AUTH_ACTIONS.UPDATE_PROFILE,\n          payload: {\n            updates: updatedUser\n          }\n        });\n        return updatedUser;\n      } catch (error) {\n        console.error('Update profile error:', error);\n        throw error;\n      }\n    });\n    return function updateProfile(_x4) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n  var changePassword = function () {\n    var _ref7 = _asyncToGenerator(function* (currentPassword, newPassword) {\n      try {\n        var response = yield authService.changePassword(currentPassword, newPassword);\n        return response;\n      } catch (error) {\n        console.error('Change password error:', error);\n        throw error;\n      }\n    });\n    return function changePassword(_x5, _x6) {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n  var refreshToken = function () {\n    var _ref8 = _asyncToGenerator(function* () {\n      try {\n        var success = yield authService.refreshToken();\n        return success;\n      } catch (error) {\n        console.error('Token refresh error:', error);\n        yield logout();\n        return false;\n      }\n    });\n    return function refreshToken() {\n      return _ref8.apply(this, arguments);\n    };\n  }();\n  var clearError = function clearError() {\n    dispatch({\n      type: AUTH_ACTIONS.CLEAR_ERROR\n    });\n  };\n  var hasRole = function hasRole(role) {\n    return state.user && state.user.role === role;\n  };\n  var isAdmin = function isAdmin() {\n    return hasRole('admin');\n  };\n  var isStationManager = function isStationManager() {\n    return hasRole('station_manager');\n  };\n  var value = {\n    user: state.user,\n    isAuthenticated: state.isAuthenticated,\n    isLoading: state.isLoading,\n    error: state.error,\n    login: login,\n    register: register,\n    logout: logout,\n    updateProfile: updateProfile,\n    changePassword: changePassword,\n    refreshToken: refreshToken,\n    clearError: clearError,\n    hasRole: hasRole,\n    isAdmin: isAdmin,\n    isStationManager: isStationManager\n  };\n  return _jsx(AuthContext.Provider, {\n    value: value,\n    children: children\n  });\n}\nexport function useAuth() {\n  var context = useContext(AuthContext);\n  if (!context) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n}\nexport default AuthContext;","map":{"version":3,"names":["React","createContext","useContext","useReducer","useEffect","authService","jsx","_jsx","initialState","user","isAuthenticated","isLoading","error","AUTH_ACTIONS","LOGIN_START","LOGIN_SUCCESS","LOGIN_FAILURE","LOGOUT","REGISTER_START","REGISTER_SUCCESS","REGISTER_FAILURE","UPDATE_PROFILE","SET_LOADING","CLEAR_ERROR","INITIALIZE_SUCCESS","INITIALIZE_FAILURE","authReducer","state","action","type","_objectSpread","payload","updates","AuthContext","AuthProvider","_ref","children","_useReducer","_useReducer2","_slicedToArray","dispatch","initializeAuth","_ref2","_asyncToGenerator","isInitialized","initialize","getCurrentUserData","console","apply","arguments","login","_ref3","email","password","response","errorMessage","message","_x","_x2","register","_ref4","userData","_x3","logout","_ref5","updateProfile","_ref6","profileData","updatedUser","_x4","changePassword","_ref7","currentPassword","newPassword","_x5","_x6","refreshToken","_ref8","success","clearError","hasRole","role","isAdmin","isStationManager","value","Provider","useAuth","context","Error"],"sources":["C:/Users/User/Desktop/Ecolith Promps/V3/EcolithSwap/src/contexts/AuthContext.js"],"sourcesContent":["import React, { createContext, useContext, useReducer, useEffect } from 'react';\nimport authService from '../services/authService';\n\n// Initial state\nconst initialState = {\n  user: null,\n  isAuthenticated: false,\n  isLoading: true,\n  error: null,\n};\n\n// Action types\nconst AUTH_ACTIONS = {\n  LOGIN_START: 'LOGIN_START',\n  LOGIN_SUCCESS: 'LOGIN_SUCCESS',\n  LOGIN_FAILURE: 'LOGIN_FAILURE',\n  LOGOUT: 'LOGOUT',\n  REGISTER_START: 'REGISTER_START',\n  REGISTER_SUCCESS: 'REGISTER_SUCCESS',\n  REGISTER_FAILURE: 'REGISTER_FAILURE',\n  UPDATE_PROFILE: 'UPDATE_PROFILE',\n  SET_LOADING: 'SET_LOADING',\n  CLEAR_ERROR: 'CLEAR_ERROR',\n  INITIALIZE_SUCCESS: 'INITIALIZE_SUCCESS',\n  INITIALIZE_FAILURE: 'INITIALIZE_FAILURE',\n};\n\n// Reducer\nfunction authReducer(state, action) {\n  switch (action.type) {\n    case AUTH_ACTIONS.LOGIN_START:\n    case AUTH_ACTIONS.REGISTER_START:\n      return {\n        ...state,\n        isLoading: true,\n        error: null,\n      };\n    \n    case AUTH_ACTIONS.LOGIN_SUCCESS:\n    case AUTH_ACTIONS.REGISTER_SUCCESS:\n      return {\n        ...state,\n        user: action.payload.user,\n        isAuthenticated: true,\n        isLoading: false,\n        error: null,\n      };\n    \n    case AUTH_ACTIONS.LOGIN_FAILURE:\n    case AUTH_ACTIONS.REGISTER_FAILURE:\n      return {\n        ...state,\n        user: null,\n        isAuthenticated: false,\n        isLoading: false,\n        error: action.payload.error,\n      };\n    \n    case AUTH_ACTIONS.LOGOUT:\n      return {\n        ...state,\n        user: null,\n        isAuthenticated: false,\n        isLoading: false,\n        error: null,\n      };\n    \n    case AUTH_ACTIONS.UPDATE_PROFILE:\n      return {\n        ...state,\n        user: { ...state.user, ...action.payload.updates },\n      };\n    \n    case AUTH_ACTIONS.SET_LOADING:\n      return {\n        ...state,\n        isLoading: action.payload.isLoading,\n      };\n    \n    case AUTH_ACTIONS.CLEAR_ERROR:\n      return {\n        ...state,\n        error: null,\n      };\n    \n    case AUTH_ACTIONS.INITIALIZE_SUCCESS:\n      return {\n        ...state,\n        user: action.payload.user,\n        isAuthenticated: true,\n        isLoading: false,\n        error: null,\n      };\n    \n    case AUTH_ACTIONS.INITIALIZE_FAILURE:\n      return {\n        ...state,\n        user: null,\n        isAuthenticated: false,\n        isLoading: false,\n        error: null,\n      };\n    \n    default:\n      return state;\n  }\n}\n\n// Create context\nconst AuthContext = createContext();\n\n// Auth Provider component\nexport function AuthProvider({ children }) {\n  const [state, dispatch] = useReducer(authReducer, initialState);\n\n  // Initialize auth on app start\n  useEffect(() => {\n    initializeAuth();\n  }, []);\n\n  const initializeAuth = async () => {\n    try {\n      const isInitialized = await authService.initialize();\n      \n      if (isInitialized) {\n        const user = authService.getCurrentUserData();\n        dispatch({\n          type: AUTH_ACTIONS.INITIALIZE_SUCCESS,\n          payload: { user },\n        });\n      } else {\n        dispatch({ type: AUTH_ACTIONS.INITIALIZE_FAILURE });\n      }\n    } catch (error) {\n      console.error('Auth initialization error:', error);\n      dispatch({ type: AUTH_ACTIONS.INITIALIZE_FAILURE });\n    }\n  };\n\n  // Login function\n  const login = async (email, password) => {\n    dispatch({ type: AUTH_ACTIONS.LOGIN_START });\n    \n    try {\n      const response = await authService.login(email, password);\n      \n      dispatch({\n        type: AUTH_ACTIONS.LOGIN_SUCCESS,\n        payload: { user: response.user },\n      });\n      \n      return response;\n    } catch (error) {\n      const errorMessage = error.message || 'Login failed';\n      dispatch({\n        type: AUTH_ACTIONS.LOGIN_FAILURE,\n        payload: { error: errorMessage },\n      });\n      throw error;\n    }\n  };\n\n  // Register function\n  const register = async (userData) => {\n    dispatch({ type: AUTH_ACTIONS.REGISTER_START });\n    \n    try {\n      const response = await authService.register(userData);\n      \n      dispatch({\n        type: AUTH_ACTIONS.REGISTER_SUCCESS,\n        payload: { user: response.user },\n      });\n      \n      return response;\n    } catch (error) {\n      const errorMessage = error.message || 'Registration failed';\n      dispatch({\n        type: AUTH_ACTIONS.REGISTER_FAILURE,\n        payload: { error: errorMessage },\n      });\n      throw error;\n    }\n  };\n\n  // Logout function\n  const logout = async () => {\n    try {\n      await authService.logout();\n      dispatch({ type: AUTH_ACTIONS.LOGOUT });\n    } catch (error) {\n      console.error('Logout error:', error);\n      // Force logout even if API call fails\n      dispatch({ type: AUTH_ACTIONS.LOGOUT });\n    }\n  };\n\n  // Update profile function\n  const updateProfile = async (profileData) => {\n    try {\n      await authService.updateProfile(profileData);\n      \n      // Get updated user data\n      const updatedUser = authService.getCurrentUserData();\n      \n      dispatch({\n        type: AUTH_ACTIONS.UPDATE_PROFILE,\n        payload: { updates: updatedUser },\n      });\n      \n      return updatedUser;\n    } catch (error) {\n      console.error('Update profile error:', error);\n      throw error;\n    }\n  };\n\n  // Change password function\n  const changePassword = async (currentPassword, newPassword) => {\n    try {\n      const response = await authService.changePassword(currentPassword, newPassword);\n      return response;\n    } catch (error) {\n      console.error('Change password error:', error);\n      throw error;\n    }\n  };\n\n  // Refresh token function\n  const refreshToken = async () => {\n    try {\n      const success = await authService.refreshToken();\n      return success;\n    } catch (error) {\n      console.error('Token refresh error:', error);\n      // If token refresh fails, logout user\n      await logout();\n      return false;\n    }\n  };\n\n  // Clear error function\n  const clearError = () => {\n    dispatch({ type: AUTH_ACTIONS.CLEAR_ERROR });\n  };\n\n  // Check if user has specific role\n  const hasRole = (role) => {\n    return state.user && state.user.role === role;\n  };\n\n  // Check if user is admin\n  const isAdmin = () => {\n    return hasRole('admin');\n  };\n\n  // Check if user is station manager\n  const isStationManager = () => {\n    return hasRole('station_manager');\n  };\n\n  // Context value\n  const value = {\n    // State\n    user: state.user,\n    isAuthenticated: state.isAuthenticated,\n    isLoading: state.isLoading,\n    error: state.error,\n    \n    // Actions\n    login,\n    register,\n    logout,\n    updateProfile,\n    changePassword,\n    refreshToken,\n    clearError,\n    \n    // Utilities\n    hasRole,\n    isAdmin,\n    isStationManager,\n  };\n\n  return (\n    <AuthContext.Provider value={value}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\n// Custom hook to use auth context\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  \n  if (!context) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  \n  return context;\n}\n\nexport default AuthContext;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}