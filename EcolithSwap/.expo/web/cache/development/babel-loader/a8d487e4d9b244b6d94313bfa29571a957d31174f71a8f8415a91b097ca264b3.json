{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nvar API_BASE_URL = __DEV__ ? 'http://localhost:3000/api' : 'https://ecolithswap-backend-production.up.railway.app/api';\nvar ApiService = function () {\n  function ApiService() {\n    _classCallCheck(this, ApiService);\n    this.baseURL = API_BASE_URL;\n    this.token = null;\n  }\n  return _createClass(ApiService, [{\n    key: \"setAuthToken\",\n    value: function setAuthToken(token) {\n      this.token = token;\n    }\n  }, {\n    key: \"getStoredToken\",\n    value: function () {\n      var _getStoredToken = _asyncToGenerator(function* () {\n        try {\n          var token = yield AsyncStorage.getItem('authToken');\n          if (token) {\n            this.token = token;\n          }\n          return token;\n        } catch (error) {\n          console.error('Error getting stored token:', error);\n          return null;\n        }\n      });\n      function getStoredToken() {\n        return _getStoredToken.apply(this, arguments);\n      }\n      return getStoredToken;\n    }()\n  }, {\n    key: \"storeToken\",\n    value: function () {\n      var _storeToken = _asyncToGenerator(function* (token) {\n        try {\n          yield AsyncStorage.setItem('authToken', token);\n          this.setAuthToken(token);\n        } catch (error) {\n          console.error('Error storing token:', error);\n        }\n      });\n      function storeToken(_x) {\n        return _storeToken.apply(this, arguments);\n      }\n      return storeToken;\n    }()\n  }, {\n    key: \"removeToken\",\n    value: function () {\n      var _removeToken = _asyncToGenerator(function* () {\n        try {\n          yield AsyncStorage.removeItem('authToken');\n          this.token = null;\n        } catch (error) {\n          console.error('Error removing token:', error);\n        }\n      });\n      function removeToken() {\n        return _removeToken.apply(this, arguments);\n      }\n      return removeToken;\n    }()\n  }, {\n    key: \"makeRequest\",\n    value: function () {\n      var _makeRequest = _asyncToGenerator(function* (endpoint) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var url = `${this.baseURL}${endpoint}`;\n        var defaultOptions = {\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        };\n        if (this.token) {\n          defaultOptions.headers.Authorization = `Bearer ${this.token}`;\n        }\n        var requestOptions = _objectSpread(_objectSpread(_objectSpread({}, defaultOptions), options), {}, {\n          headers: _objectSpread(_objectSpread({}, defaultOptions.headers), options.headers)\n        });\n        try {\n          var response = yield fetch(url, requestOptions);\n          var data = yield response.json();\n          if (!response.ok) {\n            throw new Error(data.message || data.error || 'Request failed');\n          }\n          return data;\n        } catch (error) {\n          console.error('API Request error:', error);\n          throw error;\n        }\n      });\n      function makeRequest(_x2) {\n        return _makeRequest.apply(this, arguments);\n      }\n      return makeRequest;\n    }()\n  }, {\n    key: \"get\",\n    value: function () {\n      var _get = _asyncToGenerator(function* (endpoint) {\n        var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var queryString = new URLSearchParams(params).toString();\n        var url = queryString ? `${endpoint}?${queryString}` : endpoint;\n        return this.makeRequest(url, {\n          method: 'GET'\n        });\n      });\n      function get(_x3) {\n        return _get.apply(this, arguments);\n      }\n      return get;\n    }()\n  }, {\n    key: \"post\",\n    value: function () {\n      var _post = _asyncToGenerator(function* (endpoint) {\n        var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        return this.makeRequest(endpoint, {\n          method: 'POST',\n          body: JSON.stringify(data)\n        });\n      });\n      function post(_x4) {\n        return _post.apply(this, arguments);\n      }\n      return post;\n    }()\n  }, {\n    key: \"put\",\n    value: function () {\n      var _put = _asyncToGenerator(function* (endpoint) {\n        var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        return this.makeRequest(endpoint, {\n          method: 'PUT',\n          body: JSON.stringify(data)\n        });\n      });\n      function put(_x5) {\n        return _put.apply(this, arguments);\n      }\n      return put;\n    }()\n  }, {\n    key: \"patch\",\n    value: function () {\n      var _patch = _asyncToGenerator(function* (endpoint) {\n        var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        return this.makeRequest(endpoint, {\n          method: 'PATCH',\n          body: JSON.stringify(data)\n        });\n      });\n      function patch(_x6) {\n        return _patch.apply(this, arguments);\n      }\n      return patch;\n    }()\n  }, {\n    key: \"delete\",\n    value: function () {\n      var _delete2 = _asyncToGenerator(function* (endpoint) {\n        return this.makeRequest(endpoint, {\n          method: 'DELETE'\n        });\n      });\n      function _delete(_x7) {\n        return _delete2.apply(this, arguments);\n      }\n      return _delete;\n    }()\n  }, {\n    key: \"uploadFile\",\n    value: function () {\n      var _uploadFile = _asyncToGenerator(function* (endpoint, file) {\n        var additionalData = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        var formData = new FormData();\n        formData.append('file', file);\n        Object.keys(additionalData).forEach(function (key) {\n          formData.append(key, additionalData[key]);\n        });\n        return this.makeRequest(endpoint, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          },\n          body: formData\n        });\n      });\n      function uploadFile(_x8, _x9) {\n        return _uploadFile.apply(this, arguments);\n      }\n      return uploadFile;\n    }()\n  }]);\n}();\nvar apiService = new ApiService();\nexport default apiService;","map":{"version":3,"names":["AsyncStorage","API_BASE_URL","__DEV__","ApiService","_classCallCheck","baseURL","token","_createClass","key","value","setAuthToken","_getStoredToken","_asyncToGenerator","getItem","error","console","getStoredToken","apply","arguments","_storeToken","setItem","storeToken","_x","_removeToken","removeItem","removeToken","_makeRequest","endpoint","options","length","undefined","url","defaultOptions","headers","Authorization","requestOptions","_objectSpread","response","fetch","data","json","ok","Error","message","makeRequest","_x2","_get","params","queryString","URLSearchParams","toString","method","get","_x3","_post","body","JSON","stringify","post","_x4","_put","put","_x5","_patch","patch","_x6","_delete2","delete","_x7","_uploadFile","file","additionalData","formData","FormData","append","Object","keys","forEach","uploadFile","_x8","_x9","apiService"],"sources":["C:/Users/User/Desktop/Ecolith Promps/V3/EcolithSwap/src/services/api.js"],"sourcesContent":["import AsyncStorage from '@react-native-async-storage/async-storage';\n\n// API Configuration\n// Use production backend URL for Railway deployment\nconst API_BASE_URL = __DEV__ \n  ? 'http://localhost:3000/api' \n  : 'https://ecolithswap-backend-production.up.railway.app/api';\n\nclass ApiService {\n  constructor() {\n    this.baseURL = API_BASE_URL;\n    this.token = null;\n  }\n\n  // Set authentication token\n  setAuthToken(token) {\n    this.token = token;\n  }\n\n  // Get stored token from AsyncStorage\n  async getStoredToken() {\n    try {\n      const token = await AsyncStorage.getItem('authToken');\n      if (token) {\n        this.token = token;\n      }\n      return token;\n    } catch (error) {\n      console.error('Error getting stored token:', error);\n      return null;\n    }\n  }\n\n  // Store token in AsyncStorage\n  async storeToken(token) {\n    try {\n      await AsyncStorage.setItem('authToken', token);\n      this.setAuthToken(token);\n    } catch (error) {\n      console.error('Error storing token:', error);\n    }\n  }\n\n  // Remove token from AsyncStorage\n  async removeToken() {\n    try {\n      await AsyncStorage.removeItem('authToken');\n      this.token = null;\n    } catch (error) {\n      console.error('Error removing token:', error);\n    }\n  }\n\n  // Make API request with authentication\n  async makeRequest(endpoint, options = {}) {\n    const url = `${this.baseURL}${endpoint}`;\n    \n    const defaultOptions = {\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    };\n\n    // Add authorization header if token exists\n    if (this.token) {\n      defaultOptions.headers.Authorization = `Bearer ${this.token}`;\n    }\n\n    const requestOptions = {\n      ...defaultOptions,\n      ...options,\n      headers: {\n        ...defaultOptions.headers,\n        ...options.headers,\n      },\n    };\n\n    try {\n      const response = await fetch(url, requestOptions);\n      const data = await response.json();\n\n      if (!response.ok) {\n        throw new Error(data.message || data.error || 'Request failed');\n      }\n\n      return data;\n    } catch (error) {\n      console.error('API Request error:', error);\n      throw error;\n    }\n  }\n\n  // GET request\n  async get(endpoint, params = {}) {\n    const queryString = new URLSearchParams(params).toString();\n    const url = queryString ? `${endpoint}?${queryString}` : endpoint;\n    \n    return this.makeRequest(url, {\n      method: 'GET',\n    });\n  }\n\n  // POST request\n  async post(endpoint, data = {}) {\n    return this.makeRequest(endpoint, {\n      method: 'POST',\n      body: JSON.stringify(data),\n    });\n  }\n\n  // PUT request\n  async put(endpoint, data = {}) {\n    return this.makeRequest(endpoint, {\n      method: 'PUT',\n      body: JSON.stringify(data),\n    });\n  }\n\n  // PATCH request\n  async patch(endpoint, data = {}) {\n    return this.makeRequest(endpoint, {\n      method: 'PATCH',\n      body: JSON.stringify(data),\n    });\n  }\n\n  // DELETE request\n  async delete(endpoint) {\n    return this.makeRequest(endpoint, {\n      method: 'DELETE',\n    });\n  }\n\n  // Upload file\n  async uploadFile(endpoint, file, additionalData = {}) {\n    const formData = new FormData();\n    formData.append('file', file);\n    \n    Object.keys(additionalData).forEach(key => {\n      formData.append(key, additionalData[key]);\n    });\n\n    return this.makeRequest(endpoint, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'multipart/form-data',\n      },\n      body: formData,\n    });\n  }\n}\n\n// Create and export a singleton instance\nconst apiService = new ApiService();\nexport default apiService;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}