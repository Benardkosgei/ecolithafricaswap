{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useState, useEffect, useCallback } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport RefreshControl from \"react-native-web/dist/exports/RefreshControl\";\nimport { Ionicons } from '@expo/vector-icons';\nimport * as ImagePicker from 'expo-image-picker';\nimport { useAuth } from \"../contexts/AuthContext\";\nimport profileService from \"../services/profileService\";\nimport { theme } from \"../utils/theme\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar ProfileScreen = function ProfileScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useAuth = useAuth(),\n    user = _useAuth.user,\n    updateAuthProfile = _useAuth.updateProfile,\n    logout = _useAuth.logout;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    refreshing = _useState2[0],\n    setRefreshing = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    editMode = _useState4[0],\n    setEditMode = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    showVehicleModal = _useState6[0],\n    setShowVehicleModal = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    showNotificationModal = _useState8[0],\n    setShowNotificationModal = _useState8[1];\n  var _useState9 = useState(false),\n    _useState0 = _slicedToArray(_useState9, 2),\n    showPasswordModal = _useState0[0],\n    setShowPasswordModal = _useState0[1];\n  var _useState1 = useState({\n      full_name: (user == null ? void 0 : user.full_name) || '',\n      email: (user == null ? void 0 : user.email) || '',\n      phone: (user == null ? void 0 : user.phone) || '',\n      address: (user == null ? void 0 : user.address) || '',\n      profile_image: (user == null ? void 0 : user.profile_image) || null\n    }),\n    _useState10 = _slicedToArray(_useState1, 2),\n    profileData = _useState10[0],\n    setProfileData = _useState10[1];\n  var _useState11 = useState({\n      vehicle_type: (user == null ? void 0 : user.vehicle_type) || '',\n      vehicle_brand: (user == null ? void 0 : user.vehicle_brand) || '',\n      vehicle_model: (user == null ? void 0 : user.vehicle_model) || '',\n      battery_type: (user == null ? void 0 : user.battery_type) || ''\n    }),\n    _useState12 = _slicedToArray(_useState11, 2),\n    vehicleData = _useState12[0],\n    setVehicleData = _useState12[1];\n  var _useState13 = useState({\n      rental_notifications: (user == null ? void 0 : user.rental_notifications) !== false,\n      payment_notifications: (user == null ? void 0 : user.payment_notifications) !== false,\n      promotional_notifications: (user == null ? void 0 : user.promotional_notifications) !== false,\n      maintenance_notifications: (user == null ? void 0 : user.maintenance_notifications) !== false\n    }),\n    _useState14 = _slicedToArray(_useState13, 2),\n    notificationPrefs = _useState14[0],\n    setNotificationPrefs = _useState14[1];\n  var _useState15 = useState({\n      currentPassword: '',\n      newPassword: '',\n      confirmPassword: ''\n    }),\n    _useState16 = _slicedToArray(_useState15, 2),\n    passwordData = _useState16[0],\n    setPasswordData = _useState16[1];\n  var _useState17 = useState(null),\n    _useState18 = _slicedToArray(_useState17, 2),\n    userStats = _useState18[0],\n    setUserStats = _useState18[1];\n  var _useState19 = useState([]),\n    _useState20 = _slicedToArray(_useState19, 2),\n    userActivity = _useState20[0],\n    setUserActivity = _useState20[1];\n  var _useState21 = useState(false),\n    _useState22 = _slicedToArray(_useState21, 2),\n    loading = _useState22[0],\n    setLoading = _useState22[1];\n  useEffect(function () {\n    loadUserData();\n  }, [user]);\n  var loadUserData = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      try {\n        setLoading(true);\n        var _yield$Promise$all = yield Promise.all([profileService.getUserStats(user == null ? void 0 : user.id), profileService.getUserActivity(user == null ? void 0 : user.id, '30d')]),\n          _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 2),\n          stats = _yield$Promise$all2[0],\n          activity = _yield$Promise$all2[1];\n        setUserStats(stats);\n        setUserActivity(activity || []);\n      } catch (error) {\n        console.error('Error loading user data:', error);\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function loadUserData() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var onRefresh = useCallback(_asyncToGenerator(function* () {\n    setRefreshing(true);\n    yield loadUserData();\n    setRefreshing(false);\n  }), []);\n  var handleImagePicker = function () {\n    var _ref4 = _asyncToGenerator(function* () {\n      var _yield$ImagePicker$re = yield ImagePicker.requestMediaLibraryPermissionsAsync(),\n        status = _yield$ImagePicker$re.status;\n      if (status !== 'granted') {\n        Alert.alert('Permission Required', 'Please allow access to your photo library.');\n        return;\n      }\n      var result = yield ImagePicker.launchImageLibraryAsync({\n        mediaTypes: ImagePicker.MediaTypeOptions.Images,\n        allowsEditing: true,\n        aspect: [1, 1],\n        quality: 0.8\n      });\n      if (!result.canceled) {\n        try {\n          setLoading(true);\n          var uploadResult = yield profileService.uploadProfilePhoto(result.assets[0].uri);\n          setProfileData(function (prev) {\n            return _objectSpread(_objectSpread({}, prev), {}, {\n              profile_image: uploadResult.url\n            });\n          });\n          yield updateAuthProfile({\n            profile_image: uploadResult.url\n          });\n          Alert.alert('Success', 'Profile photo updated successfully!');\n        } catch (error) {\n          Alert.alert('Error', 'Failed to upload profile photo.');\n        } finally {\n          setLoading(false);\n        }\n      }\n    });\n    return function handleImagePicker() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var handleUpdateProfile = function () {\n    var _ref5 = _asyncToGenerator(function* () {\n      try {\n        setLoading(true);\n        yield profileService.updateProfile(profileData);\n        yield updateAuthProfile(profileData);\n        setEditMode(false);\n        Alert.alert('Success', 'Profile updated successfully!');\n      } catch (error) {\n        Alert.alert('Error', 'Failed to update profile.');\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function handleUpdateProfile() {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  var handleUpdateVehicle = function () {\n    var _ref6 = _asyncToGenerator(function* () {\n      try {\n        setLoading(true);\n        yield profileService.updateVehicleInfo(vehicleData);\n        yield updateAuthProfile(vehicleData);\n        setShowVehicleModal(false);\n        Alert.alert('Success', 'Vehicle information updated successfully!');\n      } catch (error) {\n        Alert.alert('Error', 'Failed to update vehicle information.');\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function handleUpdateVehicle() {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n  var handleUpdateNotifications = function () {\n    var _ref7 = _asyncToGenerator(function* () {\n      try {\n        setLoading(true);\n        yield profileService.updateNotificationPreferences(notificationPrefs);\n        setShowNotificationModal(false);\n        Alert.alert('Success', 'Notification preferences updated!');\n      } catch (error) {\n        Alert.alert('Error', 'Failed to update notification preferences.');\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function handleUpdateNotifications() {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n  var handleChangePassword = function () {\n    var _ref8 = _asyncToGenerator(function* () {\n      if (passwordData.newPassword !== passwordData.confirmPassword) {\n        Alert.alert('Error', 'New passwords do not match.');\n        return;\n      }\n      if (passwordData.newPassword.length < 6) {\n        Alert.alert('Error', 'Password must be at least 6 characters long.');\n        return;\n      }\n      try {\n        setLoading(true);\n        yield profileService.updatePassword(passwordData.currentPassword, passwordData.newPassword);\n        setShowPasswordModal(false);\n        setPasswordData({\n          currentPassword: '',\n          newPassword: '',\n          confirmPassword: ''\n        });\n        Alert.alert('Success', 'Password changed successfully!');\n      } catch (error) {\n        Alert.alert('Error', error.message || 'Failed to change password.');\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function handleChangePassword() {\n      return _ref8.apply(this, arguments);\n    };\n  }();\n  var handleLogout = function handleLogout() {\n    Alert.alert('Logout', 'Are you sure you want to logout?', [{\n      text: 'Cancel',\n      style: 'cancel'\n    }, {\n      text: 'Logout',\n      style: 'destructive',\n      onPress: logout\n    }]);\n  };\n  var renderHeader = function renderHeader() {\n    return _jsxs(View, {\n      style: styles.header,\n      children: [_jsxs(TouchableOpacity, {\n        onPress: handleImagePicker,\n        style: styles.imageContainer,\n        children: [profileData.profile_image ? _jsx(Image, {\n          source: {\n            uri: profileData.profile_image\n          },\n          style: styles.profileImage\n        }) : _jsx(View, {\n          style: styles.placeholderImage,\n          children: _jsx(Ionicons, {\n            name: \"person\",\n            size: 40,\n            color: theme.colors.gray\n          })\n        }), _jsx(View, {\n          style: styles.cameraButton,\n          children: _jsx(Ionicons, {\n            name: \"camera\",\n            size: 16,\n            color: theme.colors.white\n          })\n        })]\n      }), _jsx(Text, {\n        style: styles.userName,\n        children: (user == null ? void 0 : user.full_name) || 'User'\n      }), _jsx(Text, {\n        style: styles.userEmail,\n        children: (user == null ? void 0 : user.email) || ''\n      }), _jsxs(View, {\n        style: styles.statsRow,\n        children: [_jsxs(View, {\n          style: styles.stat,\n          children: [_jsx(Text, {\n            style: styles.statValue,\n            children: (userStats == null ? void 0 : userStats.totalRentals) || 0\n          }), _jsx(Text, {\n            style: styles.statLabel,\n            children: \"Rentals\"\n          })]\n        }), _jsxs(View, {\n          style: styles.stat,\n          children: [_jsx(Text, {\n            style: styles.statValue,\n            children: (userStats == null ? void 0 : userStats.totalCredits) || 0\n          }), _jsx(Text, {\n            style: styles.statLabel,\n            children: \"Credits\"\n          })]\n        }), _jsxs(View, {\n          style: styles.stat,\n          children: [_jsx(Text, {\n            style: styles.statValue,\n            children: (userStats == null ? void 0 : userStats.totalWasteSubmitted) || 0\n          }), _jsx(Text, {\n            style: styles.statLabel,\n            children: \"Kg Recycled\"\n          })]\n        })]\n      })]\n    });\n  };\n  var renderProfileForm = function renderProfileForm() {\n    return _jsxs(View, {\n      style: styles.section,\n      children: [_jsxs(View, {\n        style: styles.sectionHeader,\n        children: [_jsx(Text, {\n          style: styles.sectionTitle,\n          children: \"Personal Information\"\n        }), _jsx(TouchableOpacity, {\n          onPress: function onPress() {\n            return setEditMode(!editMode);\n          },\n          children: _jsx(Text, {\n            style: styles.editButton,\n            children: editMode ? 'Cancel' : 'Edit'\n          })\n        })]\n      }), _jsxs(View, {\n        style: styles.formGroup,\n        children: [_jsx(Text, {\n          style: styles.label,\n          children: \"Full Name\"\n        }), _jsx(TextInput, {\n          style: [styles.input, !editMode && styles.disabledInput],\n          value: profileData.full_name,\n          onChangeText: function onChangeText(text) {\n            return setProfileData(function (prev) {\n              return _objectSpread(_objectSpread({}, prev), {}, {\n                full_name: text\n              });\n            });\n          },\n          editable: editMode\n        })]\n      }), _jsxs(View, {\n        style: styles.formGroup,\n        children: [_jsx(Text, {\n          style: styles.label,\n          children: \"Email\"\n        }), _jsx(TextInput, {\n          style: [styles.input, styles.disabledInput],\n          value: profileData.email,\n          editable: false\n        })]\n      }), _jsxs(View, {\n        style: styles.formGroup,\n        children: [_jsx(Text, {\n          style: styles.label,\n          children: \"Phone\"\n        }), _jsx(TextInput, {\n          style: [styles.input, !editMode && styles.disabledInput],\n          value: profileData.phone,\n          onChangeText: function onChangeText(text) {\n            return setProfileData(function (prev) {\n              return _objectSpread(_objectSpread({}, prev), {}, {\n                phone: text\n              });\n            });\n          },\n          editable: editMode,\n          keyboardType: \"phone-pad\"\n        })]\n      }), _jsxs(View, {\n        style: styles.formGroup,\n        children: [_jsx(Text, {\n          style: styles.label,\n          children: \"Address\"\n        }), _jsx(TextInput, {\n          style: [styles.input, styles.textArea, !editMode && styles.disabledInput],\n          value: profileData.address,\n          onChangeText: function onChangeText(text) {\n            return setProfileData(function (prev) {\n              return _objectSpread(_objectSpread({}, prev), {}, {\n                address: text\n              });\n            });\n          },\n          editable: editMode,\n          multiline: true,\n          numberOfLines: 3\n        })]\n      }), editMode && _jsx(TouchableOpacity, {\n        style: styles.saveButton,\n        onPress: handleUpdateProfile,\n        children: _jsx(Text, {\n          style: styles.saveButtonText,\n          children: \"Save Changes\"\n        })\n      })]\n    });\n  };\n  var renderMenuOptions = function renderMenuOptions() {\n    return _jsxs(View, {\n      style: styles.section,\n      children: [_jsxs(TouchableOpacity, {\n        style: styles.menuItem,\n        onPress: function onPress() {\n          return setShowVehicleModal(true);\n        },\n        children: [_jsx(Ionicons, {\n          name: \"car\",\n          size: 24,\n          color: theme.colors.primary\n        }), _jsx(Text, {\n          style: styles.menuText,\n          children: \"Vehicle Information\"\n        }), _jsx(Ionicons, {\n          name: \"chevron-forward\",\n          size: 20,\n          color: theme.colors.gray\n        })]\n      }), _jsxs(TouchableOpacity, {\n        style: styles.menuItem,\n        onPress: function onPress() {\n          return setShowNotificationModal(true);\n        },\n        children: [_jsx(Ionicons, {\n          name: \"notifications\",\n          size: 24,\n          color: theme.colors.primary\n        }), _jsx(Text, {\n          style: styles.menuText,\n          children: \"Notification Settings\"\n        }), _jsx(Ionicons, {\n          name: \"chevron-forward\",\n          size: 20,\n          color: theme.colors.gray\n        })]\n      }), _jsxs(TouchableOpacity, {\n        style: styles.menuItem,\n        onPress: function onPress() {\n          return setShowPasswordModal(true);\n        },\n        children: [_jsx(Ionicons, {\n          name: \"lock-closed\",\n          size: 24,\n          color: theme.colors.primary\n        }), _jsx(Text, {\n          style: styles.menuText,\n          children: \"Change Password\"\n        }), _jsx(Ionicons, {\n          name: \"chevron-forward\",\n          size: 20,\n          color: theme.colors.gray\n        })]\n      }), _jsxs(TouchableOpacity, {\n        style: styles.menuItem,\n        onPress: function onPress() {\n          return navigation.navigate('PaymentHistory');\n        },\n        children: [_jsx(Ionicons, {\n          name: \"card\",\n          size: 24,\n          color: theme.colors.primary\n        }), _jsx(Text, {\n          style: styles.menuText,\n          children: \"Payment Methods\"\n        }), _jsx(Ionicons, {\n          name: \"chevron-forward\",\n          size: 20,\n          color: theme.colors.gray\n        })]\n      }), _jsxs(TouchableOpacity, {\n        style: [styles.menuItem, styles.logoutItem],\n        onPress: handleLogout,\n        children: [_jsx(Ionicons, {\n          name: \"log-out\",\n          size: 24,\n          color: theme.colors.error\n        }), _jsx(Text, {\n          style: [styles.menuText, styles.logoutText],\n          children: \"Logout\"\n        }), _jsx(Ionicons, {\n          name: \"chevron-forward\",\n          size: 20,\n          color: theme.colors.gray\n        })]\n      })]\n    });\n  };\n  var renderVehicleModal = function renderVehicleModal() {\n    return _jsx(Modal, {\n      visible: showVehicleModal,\n      animationType: \"slide\",\n      presentationStyle: \"formSheet\",\n      children: _jsxs(View, {\n        style: styles.modalContainer,\n        children: [_jsxs(View, {\n          style: styles.modalHeader,\n          children: [_jsx(TouchableOpacity, {\n            onPress: function onPress() {\n              return setShowVehicleModal(false);\n            },\n            children: _jsx(Text, {\n              style: styles.cancelButton,\n              children: \"Cancel\"\n            })\n          }), _jsx(Text, {\n            style: styles.modalTitle,\n            children: \"Vehicle Information\"\n          }), _jsx(TouchableOpacity, {\n            onPress: handleUpdateVehicle,\n            children: _jsx(Text, {\n              style: styles.saveButton,\n              children: \"Save\"\n            })\n          })]\n        }), _jsxs(ScrollView, {\n          style: styles.modalContent,\n          children: [_jsxs(View, {\n            style: styles.formGroup,\n            children: [_jsx(Text, {\n              style: styles.label,\n              children: \"Vehicle Type\"\n            }), _jsx(TextInput, {\n              style: styles.input,\n              value: vehicleData.vehicle_type,\n              onChangeText: function onChangeText(text) {\n                return setVehicleData(function (prev) {\n                  return _objectSpread(_objectSpread({}, prev), {}, {\n                    vehicle_type: text\n                  });\n                });\n              },\n              placeholder: \"e.g., Motorcycle, Scooter\"\n            })]\n          }), _jsxs(View, {\n            style: styles.formGroup,\n            children: [_jsx(Text, {\n              style: styles.label,\n              children: \"Vehicle Brand\"\n            }), _jsx(TextInput, {\n              style: styles.input,\n              value: vehicleData.vehicle_brand,\n              onChangeText: function onChangeText(text) {\n                return setVehicleData(function (prev) {\n                  return _objectSpread(_objectSpread({}, prev), {}, {\n                    vehicle_brand: text\n                  });\n                });\n              },\n              placeholder: \"e.g., Honda, Yamaha\"\n            })]\n          }), _jsxs(View, {\n            style: styles.formGroup,\n            children: [_jsx(Text, {\n              style: styles.label,\n              children: \"Vehicle Model\"\n            }), _jsx(TextInput, {\n              style: styles.input,\n              value: vehicleData.vehicle_model,\n              onChangeText: function onChangeText(text) {\n                return setVehicleData(function (prev) {\n                  return _objectSpread(_objectSpread({}, prev), {}, {\n                    vehicle_model: text\n                  });\n                });\n              },\n              placeholder: \"e.g., Civic, Vario\"\n            })]\n          }), _jsxs(View, {\n            style: styles.formGroup,\n            children: [_jsx(Text, {\n              style: styles.label,\n              children: \"Battery Type\"\n            }), _jsx(TextInput, {\n              style: styles.input,\n              value: vehicleData.battery_type,\n              onChangeText: function onChangeText(text) {\n                return setVehicleData(function (prev) {\n                  return _objectSpread(_objectSpread({}, prev), {}, {\n                    battery_type: text\n                  });\n                });\n              },\n              placeholder: \"e.g., Li-ion 48V\"\n            })]\n          })]\n        })]\n      })\n    });\n  };\n  var renderNotificationModal = function renderNotificationModal() {\n    return _jsx(Modal, {\n      visible: showNotificationModal,\n      animationType: \"slide\",\n      presentationStyle: \"formSheet\",\n      children: _jsxs(View, {\n        style: styles.modalContainer,\n        children: [_jsxs(View, {\n          style: styles.modalHeader,\n          children: [_jsx(TouchableOpacity, {\n            onPress: function onPress() {\n              return setShowNotificationModal(false);\n            },\n            children: _jsx(Text, {\n              style: styles.cancelButton,\n              children: \"Cancel\"\n            })\n          }), _jsx(Text, {\n            style: styles.modalTitle,\n            children: \"Notifications\"\n          }), _jsx(TouchableOpacity, {\n            onPress: handleUpdateNotifications,\n            children: _jsx(Text, {\n              style: styles.saveButton,\n              children: \"Save\"\n            })\n          })]\n        }), _jsx(View, {\n          style: styles.modalContent,\n          children: Object.entries(notificationPrefs).map(function (_ref9) {\n            var _ref0 = _slicedToArray(_ref9, 2),\n              key = _ref0[0],\n              value = _ref0[1];\n            return _jsxs(TouchableOpacity, {\n              style: styles.notificationItem,\n              onPress: function onPress() {\n                return setNotificationPrefs(function (prev) {\n                  return _objectSpread(_objectSpread({}, prev), {}, _defineProperty({}, key, !value));\n                });\n              },\n              children: [_jsx(Text, {\n                style: styles.notificationText,\n                children: key.replace(/_/g, ' ').replace(/\\b\\w/g, function (l) {\n                  return l.toUpperCase();\n                })\n              }), _jsx(View, {\n                style: [styles.toggle, value && styles.toggleActive],\n                children: _jsx(View, {\n                  style: [styles.toggleThumb, value && styles.toggleThumbActive]\n                })\n              })]\n            }, key);\n          })\n        })]\n      })\n    });\n  };\n  var renderPasswordModal = function renderPasswordModal() {\n    return _jsx(Modal, {\n      visible: showPasswordModal,\n      animationType: \"slide\",\n      presentationStyle: \"formSheet\",\n      children: _jsxs(View, {\n        style: styles.modalContainer,\n        children: [_jsxs(View, {\n          style: styles.modalHeader,\n          children: [_jsx(TouchableOpacity, {\n            onPress: function onPress() {\n              return setShowPasswordModal(false);\n            },\n            children: _jsx(Text, {\n              style: styles.cancelButton,\n              children: \"Cancel\"\n            })\n          }), _jsx(Text, {\n            style: styles.modalTitle,\n            children: \"Change Password\"\n          }), _jsx(TouchableOpacity, {\n            onPress: handleChangePassword,\n            children: _jsx(Text, {\n              style: styles.saveButton,\n              children: \"Save\"\n            })\n          })]\n        }), _jsxs(View, {\n          style: styles.modalContent,\n          children: [_jsxs(View, {\n            style: styles.formGroup,\n            children: [_jsx(Text, {\n              style: styles.label,\n              children: \"Current Password\"\n            }), _jsx(TextInput, {\n              style: styles.input,\n              value: passwordData.currentPassword,\n              onChangeText: function onChangeText(text) {\n                return setPasswordData(function (prev) {\n                  return _objectSpread(_objectSpread({}, prev), {}, {\n                    currentPassword: text\n                  });\n                });\n              },\n              secureTextEntry: true,\n              placeholder: \"Enter current password\"\n            })]\n          }), _jsxs(View, {\n            style: styles.formGroup,\n            children: [_jsx(Text, {\n              style: styles.label,\n              children: \"New Password\"\n            }), _jsx(TextInput, {\n              style: styles.input,\n              value: passwordData.newPassword,\n              onChangeText: function onChangeText(text) {\n                return setPasswordData(function (prev) {\n                  return _objectSpread(_objectSpread({}, prev), {}, {\n                    newPassword: text\n                  });\n                });\n              },\n              secureTextEntry: true,\n              placeholder: \"Enter new password\"\n            })]\n          }), _jsxs(View, {\n            style: styles.formGroup,\n            children: [_jsx(Text, {\n              style: styles.label,\n              children: \"Confirm New Password\"\n            }), _jsx(TextInput, {\n              style: styles.input,\n              value: passwordData.confirmPassword,\n              onChangeText: function onChangeText(text) {\n                return setPasswordData(function (prev) {\n                  return _objectSpread(_objectSpread({}, prev), {}, {\n                    confirmPassword: text\n                  });\n                });\n              },\n              secureTextEntry: true,\n              placeholder: \"Confirm new password\"\n            })]\n          })]\n        })]\n      })\n    });\n  };\n  return _jsxs(ScrollView, {\n    style: styles.container,\n    refreshControl: _jsx(RefreshControl, {\n      refreshing: refreshing,\n      onRefresh: onRefresh\n    }),\n    children: [renderHeader(), renderProfileForm(), renderMenuOptions(), renderVehicleModal(), renderNotificationModal(), renderPasswordModal()]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background\n  },\n  header: {\n    backgroundColor: theme.colors.white,\n    padding: 20,\n    paddingTop: 60,\n    alignItems: 'center',\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border\n  },\n  imageContainer: {\n    position: 'relative',\n    marginBottom: 15\n  },\n  profileImage: {\n    width: 100,\n    height: 100,\n    borderRadius: 50\n  },\n  placeholderImage: {\n    width: 100,\n    height: 100,\n    borderRadius: 50,\n    backgroundColor: theme.colors.border,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  cameraButton: {\n    position: 'absolute',\n    bottom: 0,\n    right: 0,\n    backgroundColor: theme.colors.primary,\n    borderRadius: 15,\n    width: 30,\n    height: 30,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  userName: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n    marginBottom: 5\n  },\n  userEmail: {\n    fontSize: 16,\n    color: theme.colors.gray,\n    marginBottom: 20\n  },\n  statsRow: {\n    flexDirection: 'row',\n    width: '100%',\n    justifyContent: 'space-around'\n  },\n  stat: {\n    alignItems: 'center'\n  },\n  statValue: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.primary\n  },\n  statLabel: {\n    fontSize: 12,\n    color: theme.colors.gray,\n    marginTop: 2\n  },\n  section: {\n    backgroundColor: theme.colors.white,\n    margin: 15,\n    borderRadius: 12,\n    padding: 20\n  },\n  sectionHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 20\n  },\n  sectionTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: theme.colors.text\n  },\n  editButton: {\n    color: theme.colors.primary,\n    fontWeight: '600'\n  },\n  formGroup: {\n    marginBottom: 15\n  },\n  label: {\n    fontSize: 14,\n    fontWeight: '600',\n    color: theme.colors.text,\n    marginBottom: 5\n  },\n  input: {\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    padding: 12,\n    fontSize: 16,\n    color: theme.colors.text\n  },\n  disabledInput: {\n    backgroundColor: theme.colors.background,\n    color: theme.colors.gray\n  },\n  textArea: {\n    height: 80,\n    textAlignVertical: 'top'\n  },\n  saveButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 15,\n    borderRadius: 8,\n    alignItems: 'center',\n    marginTop: 10\n  },\n  saveButtonText: {\n    color: theme.colors.white,\n    fontSize: 16,\n    fontWeight: '600'\n  },\n  menuItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingVertical: 15,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border\n  },\n  menuText: {\n    flex: 1,\n    fontSize: 16,\n    color: theme.colors.text,\n    marginLeft: 15\n  },\n  logoutItem: {\n    borderBottomWidth: 0\n  },\n  logoutText: {\n    color: theme.colors.error\n  },\n  modalContainer: {\n    flex: 1,\n    backgroundColor: theme.colors.white\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 20,\n    paddingTop: 60,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border\n  },\n  modalTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: theme.colors.text\n  },\n  cancelButton: {\n    color: theme.colors.gray,\n    fontSize: 16\n  },\n  modalContent: {\n    flex: 1,\n    padding: 20\n  },\n  notificationItem: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingVertical: 15,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border\n  },\n  notificationText: {\n    fontSize: 16,\n    color: theme.colors.text\n  },\n  toggle: {\n    width: 50,\n    height: 30,\n    borderRadius: 15,\n    backgroundColor: theme.colors.border,\n    justifyContent: 'center',\n    paddingHorizontal: 2\n  },\n  toggleActive: {\n    backgroundColor: theme.colors.primary\n  },\n  toggleThumb: {\n    width: 26,\n    height: 26,\n    borderRadius: 13,\n    backgroundColor: theme.colors.white\n  },\n  toggleThumbActive: {\n    alignSelf: 'flex-end'\n  }\n});\nexport default ProfileScreen;","map":{"version":3,"names":["React","useState","useEffect","useCallback","View","Text","StyleSheet","ScrollView","TouchableOpacity","Alert","Image","TextInput","Modal","Platform","RefreshControl","Ionicons","ImagePicker","useAuth","profileService","theme","jsx","_jsx","jsxs","_jsxs","ProfileScreen","_ref","navigation","_useAuth","user","updateAuthProfile","updateProfile","logout","_useState","_useState2","_slicedToArray","refreshing","setRefreshing","_useState3","_useState4","editMode","setEditMode","_useState5","_useState6","showVehicleModal","setShowVehicleModal","_useState7","_useState8","showNotificationModal","setShowNotificationModal","_useState9","_useState0","showPasswordModal","setShowPasswordModal","_useState1","full_name","email","phone","address","profile_image","_useState10","profileData","setProfileData","_useState11","vehicle_type","vehicle_brand","vehicle_model","battery_type","_useState12","vehicleData","setVehicleData","_useState13","rental_notifications","payment_notifications","promotional_notifications","maintenance_notifications","_useState14","notificationPrefs","setNotificationPrefs","_useState15","currentPassword","newPassword","confirmPassword","_useState16","passwordData","setPasswordData","_useState17","_useState18","userStats","setUserStats","_useState19","_useState20","userActivity","setUserActivity","_useState21","_useState22","loading","setLoading","loadUserData","_ref2","_asyncToGenerator","_yield$Promise$all","Promise","all","getUserStats","id","getUserActivity","_yield$Promise$all2","stats","activity","error","console","apply","arguments","onRefresh","handleImagePicker","_ref4","_yield$ImagePicker$re","requestMediaLibraryPermissionsAsync","status","alert","result","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","Images","allowsEditing","aspect","quality","canceled","uploadResult","uploadProfilePhoto","assets","uri","prev","_objectSpread","url","handleUpdateProfile","_ref5","handleUpdateVehicle","_ref6","updateVehicleInfo","handleUpdateNotifications","_ref7","updateNotificationPreferences","handleChangePassword","_ref8","length","updatePassword","message","handleLogout","text","style","onPress","renderHeader","styles","header","children","imageContainer","source","profileImage","placeholderImage","name","size","color","colors","gray","cameraButton","white","userName","userEmail","statsRow","stat","statValue","totalRentals","statLabel","totalCredits","totalWasteSubmitted","renderProfileForm","section","sectionHeader","sectionTitle","editButton","formGroup","label","input","disabledInput","value","onChangeText","editable","keyboardType","textArea","multiline","numberOfLines","saveButton","saveButtonText","renderMenuOptions","menuItem","primary","menuText","navigate","logoutItem","logoutText","renderVehicleModal","visible","animationType","presentationStyle","modalContainer","modalHeader","cancelButton","modalTitle","modalContent","placeholder","renderNotificationModal","Object","entries","map","_ref9","_ref0","key","notificationItem","_defineProperty","notificationText","replace","l","toUpperCase","toggle","toggleActive","toggleThumb","toggleThumbActive","renderPasswordModal","secureTextEntry","container","refreshControl","create","flex","backgroundColor","background","padding","paddingTop","alignItems","borderBottomWidth","borderBottomColor","border","position","marginBottom","width","height","borderRadius","justifyContent","bottom","right","fontSize","fontWeight","flexDirection","marginTop","margin","borderWidth","borderColor","textAlignVertical","paddingVertical","marginLeft","paddingHorizontal","alignSelf"],"sources":["C:/Users/User/Desktop/Ecolith Promps/V3/EcolithSwap/src/screens/ProfileScreen.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  ScrollView,\n  TouchableOpacity,\n  Alert,\n  Image,\n  TextInput,\n  Modal,\n  Platform,\n  RefreshControl,\n} from 'react-native';\nimport { Ionicons } from '@expo/vector-icons';\nimport * as ImagePicker from 'expo-image-picker';\nimport { useAuth } from '../contexts/AuthContext';\nimport profileService from '../services/profileService';\nimport { theme } from '../utils/theme';\n\nconst ProfileScreen = ({ navigation }) => {\n  const { user, updateProfile: updateAuthProfile, logout } = useAuth();\n  const [refreshing, setRefreshing] = useState(false);\n  const [editMode, setEditMode] = useState(false);\n  const [showVehicleModal, setShowVehicleModal] = useState(false);\n  const [showNotificationModal, setShowNotificationModal] = useState(false);\n  const [showPasswordModal, setShowPasswordModal] = useState(false);\n  \n  // Profile data\n  const [profileData, setProfileData] = useState({\n    full_name: user?.full_name || '',\n    email: user?.email || '',\n    phone: user?.phone || '',\n    address: user?.address || '',\n    profile_image: user?.profile_image || null,\n  });\n  \n  // Vehicle data\n  const [vehicleData, setVehicleData] = useState({\n    vehicle_type: user?.vehicle_type || '',\n    vehicle_brand: user?.vehicle_brand || '',\n    vehicle_model: user?.vehicle_model || '',\n    battery_type: user?.battery_type || '',\n  });\n  \n  // Notification preferences\n  const [notificationPrefs, setNotificationPrefs] = useState({\n    rental_notifications: user?.rental_notifications !== false,\n    payment_notifications: user?.payment_notifications !== false,\n    promotional_notifications: user?.promotional_notifications !== false,\n    maintenance_notifications: user?.maintenance_notifications !== false,\n  });\n  \n  // Password change\n  const [passwordData, setPasswordData] = useState({\n    currentPassword: '',\n    newPassword: '',\n    confirmPassword: '',\n  });\n  \n  // Stats and activity\n  const [userStats, setUserStats] = useState(null);\n  const [userActivity, setUserActivity] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    loadUserData();\n  }, [user]);\n\n  const loadUserData = async () => {\n    try {\n      setLoading(true);\n      const [stats, activity] = await Promise.all([\n        profileService.getUserStats(user?.id),\n        profileService.getUserActivity(user?.id, '30d'),\n      ]);\n      \n      setUserStats(stats);\n      setUserActivity(activity || []);\n    } catch (error) {\n      console.error('Error loading user data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const onRefresh = useCallback(async () => {\n    setRefreshing(true);\n    await loadUserData();\n    setRefreshing(false);\n  }, []);\n\n  const handleImagePicker = async () => {\n    const { status } = await ImagePicker.requestMediaLibraryPermissionsAsync();\n    \n    if (status !== 'granted') {\n      Alert.alert('Permission Required', 'Please allow access to your photo library.');\n      return;\n    }\n\n    const result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: true,\n      aspect: [1, 1],\n      quality: 0.8,\n    });\n\n    if (!result.canceled) {\n      try {\n        setLoading(true);\n        const uploadResult = await profileService.uploadProfilePhoto(result.assets[0].uri);\n        setProfileData(prev => ({ ...prev, profile_image: uploadResult.url }));\n        await updateAuthProfile({ profile_image: uploadResult.url });\n        Alert.alert('Success', 'Profile photo updated successfully!');\n      } catch (error) {\n        Alert.alert('Error', 'Failed to upload profile photo.');\n      } finally {\n        setLoading(false);\n      }\n    }\n  };\n\n  const handleUpdateProfile = async () => {\n    try {\n      setLoading(true);\n      await profileService.updateProfile(profileData);\n      await updateAuthProfile(profileData);\n      setEditMode(false);\n      Alert.alert('Success', 'Profile updated successfully!');\n    } catch (error) {\n      Alert.alert('Error', 'Failed to update profile.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleUpdateVehicle = async () => {\n    try {\n      setLoading(true);\n      await profileService.updateVehicleInfo(vehicleData);\n      await updateAuthProfile(vehicleData);\n      setShowVehicleModal(false);\n      Alert.alert('Success', 'Vehicle information updated successfully!');\n    } catch (error) {\n      Alert.alert('Error', 'Failed to update vehicle information.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleUpdateNotifications = async () => {\n    try {\n      setLoading(true);\n      await profileService.updateNotificationPreferences(notificationPrefs);\n      setShowNotificationModal(false);\n      Alert.alert('Success', 'Notification preferences updated!');\n    } catch (error) {\n      Alert.alert('Error', 'Failed to update notification preferences.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleChangePassword = async () => {\n    if (passwordData.newPassword !== passwordData.confirmPassword) {\n      Alert.alert('Error', 'New passwords do not match.');\n      return;\n    }\n    \n    if (passwordData.newPassword.length < 6) {\n      Alert.alert('Error', 'Password must be at least 6 characters long.');\n      return;\n    }\n\n    try {\n      setLoading(true);\n      await profileService.updatePassword(passwordData.currentPassword, passwordData.newPassword);\n      setShowPasswordModal(false);\n      setPasswordData({ currentPassword: '', newPassword: '', confirmPassword: '' });\n      Alert.alert('Success', 'Password changed successfully!');\n    } catch (error) {\n      Alert.alert('Error', error.message || 'Failed to change password.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleLogout = () => {\n    Alert.alert(\n      'Logout',\n      'Are you sure you want to logout?',\n      [\n        { text: 'Cancel', style: 'cancel' },\n        { text: 'Logout', style: 'destructive', onPress: logout },\n      ]\n    );\n  };\n\n  const renderHeader = () => (\n    <View style={styles.header}>\n      <TouchableOpacity onPress={handleImagePicker} style={styles.imageContainer}>\n        {profileData.profile_image ? (\n          <Image source={{ uri: profileData.profile_image }} style={styles.profileImage} />\n        ) : (\n          <View style={styles.placeholderImage}>\n            <Ionicons name=\"person\" size={40} color={theme.colors.gray} />\n          </View>\n        )}\n        <View style={styles.cameraButton}>\n          <Ionicons name=\"camera\" size={16} color={theme.colors.white} />\n        </View>\n      </TouchableOpacity>\n      \n      <Text style={styles.userName}>{user?.full_name || 'User'}</Text>\n      <Text style={styles.userEmail}>{user?.email || ''}</Text>\n      \n      <View style={styles.statsRow}>\n        <View style={styles.stat}>\n          <Text style={styles.statValue}>{userStats?.totalRentals || 0}</Text>\n          <Text style={styles.statLabel}>Rentals</Text>\n        </View>\n        <View style={styles.stat}>\n          <Text style={styles.statValue}>{userStats?.totalCredits || 0}</Text>\n          <Text style={styles.statLabel}>Credits</Text>\n        </View>\n        <View style={styles.stat}>\n          <Text style={styles.statValue}>{userStats?.totalWasteSubmitted || 0}</Text>\n          <Text style={styles.statLabel}>Kg Recycled</Text>\n        </View>\n      </View>\n    </View>\n  );\n\n  const renderProfileForm = () => (\n    <View style={styles.section}>\n      <View style={styles.sectionHeader}>\n        <Text style={styles.sectionTitle}>Personal Information</Text>\n        <TouchableOpacity onPress={() => setEditMode(!editMode)}>\n          <Text style={styles.editButton}>{editMode ? 'Cancel' : 'Edit'}</Text>\n        </TouchableOpacity>\n      </View>\n      \n      <View style={styles.formGroup}>\n        <Text style={styles.label}>Full Name</Text>\n        <TextInput\n          style={[styles.input, !editMode && styles.disabledInput]}\n          value={profileData.full_name}\n          onChangeText={(text) => setProfileData(prev => ({ ...prev, full_name: text }))}\n          editable={editMode}\n        />\n      </View>\n      \n      <View style={styles.formGroup}>\n        <Text style={styles.label}>Email</Text>\n        <TextInput\n          style={[styles.input, styles.disabledInput]}\n          value={profileData.email}\n          editable={false}\n        />\n      </View>\n      \n      <View style={styles.formGroup}>\n        <Text style={styles.label}>Phone</Text>\n        <TextInput\n          style={[styles.input, !editMode && styles.disabledInput]}\n          value={profileData.phone}\n          onChangeText={(text) => setProfileData(prev => ({ ...prev, phone: text }))}\n          editable={editMode}\n          keyboardType=\"phone-pad\"\n        />\n      </View>\n      \n      <View style={styles.formGroup}>\n        <Text style={styles.label}>Address</Text>\n        <TextInput\n          style={[styles.input, styles.textArea, !editMode && styles.disabledInput]}\n          value={profileData.address}\n          onChangeText={(text) => setProfileData(prev => ({ ...prev, address: text }))}\n          editable={editMode}\n          multiline\n          numberOfLines={3}\n        />\n      </View>\n      \n      {editMode && (\n        <TouchableOpacity style={styles.saveButton} onPress={handleUpdateProfile}>\n          <Text style={styles.saveButtonText}>Save Changes</Text>\n        </TouchableOpacity>\n      )}\n    </View>\n  );\n\n  const renderMenuOptions = () => (\n    <View style={styles.section}>\n      <TouchableOpacity \n        style={styles.menuItem} \n        onPress={() => setShowVehicleModal(true)}\n      >\n        <Ionicons name=\"car\" size={24} color={theme.colors.primary} />\n        <Text style={styles.menuText}>Vehicle Information</Text>\n        <Ionicons name=\"chevron-forward\" size={20} color={theme.colors.gray} />\n      </TouchableOpacity>\n      \n      <TouchableOpacity \n        style={styles.menuItem} \n        onPress={() => setShowNotificationModal(true)}\n      >\n        <Ionicons name=\"notifications\" size={24} color={theme.colors.primary} />\n        <Text style={styles.menuText}>Notification Settings</Text>\n        <Ionicons name=\"chevron-forward\" size={20} color={theme.colors.gray} />\n      </TouchableOpacity>\n      \n      <TouchableOpacity \n        style={styles.menuItem} \n        onPress={() => setShowPasswordModal(true)}\n      >\n        <Ionicons name=\"lock-closed\" size={24} color={theme.colors.primary} />\n        <Text style={styles.menuText}>Change Password</Text>\n        <Ionicons name=\"chevron-forward\" size={20} color={theme.colors.gray} />\n      </TouchableOpacity>\n      \n      <TouchableOpacity \n        style={styles.menuItem} \n        onPress={() => navigation.navigate('PaymentHistory')}\n      >\n        <Ionicons name=\"card\" size={24} color={theme.colors.primary} />\n        <Text style={styles.menuText}>Payment Methods</Text>\n        <Ionicons name=\"chevron-forward\" size={20} color={theme.colors.gray} />\n      </TouchableOpacity>\n      \n      <TouchableOpacity style={[styles.menuItem, styles.logoutItem]} onPress={handleLogout}>\n        <Ionicons name=\"log-out\" size={24} color={theme.colors.error} />\n        <Text style={[styles.menuText, styles.logoutText]}>Logout</Text>\n        <Ionicons name=\"chevron-forward\" size={20} color={theme.colors.gray} />\n      </TouchableOpacity>\n    </View>\n  );\n\n  const renderVehicleModal = () => (\n    <Modal visible={showVehicleModal} animationType=\"slide\" presentationStyle=\"formSheet\">\n      <View style={styles.modalContainer}>\n        <View style={styles.modalHeader}>\n          <TouchableOpacity onPress={() => setShowVehicleModal(false)}>\n            <Text style={styles.cancelButton}>Cancel</Text>\n          </TouchableOpacity>\n          <Text style={styles.modalTitle}>Vehicle Information</Text>\n          <TouchableOpacity onPress={handleUpdateVehicle}>\n            <Text style={styles.saveButton}>Save</Text>\n          </TouchableOpacity>\n        </View>\n        \n        <ScrollView style={styles.modalContent}>\n          <View style={styles.formGroup}>\n            <Text style={styles.label}>Vehicle Type</Text>\n            <TextInput\n              style={styles.input}\n              value={vehicleData.vehicle_type}\n              onChangeText={(text) => setVehicleData(prev => ({ ...prev, vehicle_type: text }))}\n              placeholder=\"e.g., Motorcycle, Scooter\"\n            />\n          </View>\n          \n          <View style={styles.formGroup}>\n            <Text style={styles.label}>Vehicle Brand</Text>\n            <TextInput\n              style={styles.input}\n              value={vehicleData.vehicle_brand}\n              onChangeText={(text) => setVehicleData(prev => ({ ...prev, vehicle_brand: text }))}\n              placeholder=\"e.g., Honda, Yamaha\"\n            />\n          </View>\n          \n          <View style={styles.formGroup}>\n            <Text style={styles.label}>Vehicle Model</Text>\n            <TextInput\n              style={styles.input}\n              value={vehicleData.vehicle_model}\n              onChangeText={(text) => setVehicleData(prev => ({ ...prev, vehicle_model: text }))}\n              placeholder=\"e.g., Civic, Vario\"\n            />\n          </View>\n          \n          <View style={styles.formGroup}>\n            <Text style={styles.label}>Battery Type</Text>\n            <TextInput\n              style={styles.input}\n              value={vehicleData.battery_type}\n              onChangeText={(text) => setVehicleData(prev => ({ ...prev, battery_type: text }))}\n              placeholder=\"e.g., Li-ion 48V\"\n            />\n          </View>\n        </ScrollView>\n      </View>\n    </Modal>\n  );\n\n  const renderNotificationModal = () => (\n    <Modal visible={showNotificationModal} animationType=\"slide\" presentationStyle=\"formSheet\">\n      <View style={styles.modalContainer}>\n        <View style={styles.modalHeader}>\n          <TouchableOpacity onPress={() => setShowNotificationModal(false)}>\n            <Text style={styles.cancelButton}>Cancel</Text>\n          </TouchableOpacity>\n          <Text style={styles.modalTitle}>Notifications</Text>\n          <TouchableOpacity onPress={handleUpdateNotifications}>\n            <Text style={styles.saveButton}>Save</Text>\n          </TouchableOpacity>\n        </View>\n        \n        <View style={styles.modalContent}>\n          {Object.entries(notificationPrefs).map(([key, value]) => (\n            <TouchableOpacity\n              key={key}\n              style={styles.notificationItem}\n              onPress={() => setNotificationPrefs(prev => ({ ...prev, [key]: !value }))}\n            >\n              <Text style={styles.notificationText}>\n                {key.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase())}\n              </Text>\n              <View style={[styles.toggle, value && styles.toggleActive]}>\n                <View style={[styles.toggleThumb, value && styles.toggleThumbActive]} />\n              </View>\n            </TouchableOpacity>\n          ))}\n        </View>\n      </View>\n    </Modal>\n  );\n\n  const renderPasswordModal = () => (\n    <Modal visible={showPasswordModal} animationType=\"slide\" presentationStyle=\"formSheet\">\n      <View style={styles.modalContainer}>\n        <View style={styles.modalHeader}>\n          <TouchableOpacity onPress={() => setShowPasswordModal(false)}>\n            <Text style={styles.cancelButton}>Cancel</Text>\n          </TouchableOpacity>\n          <Text style={styles.modalTitle}>Change Password</Text>\n          <TouchableOpacity onPress={handleChangePassword}>\n            <Text style={styles.saveButton}>Save</Text>\n          </TouchableOpacity>\n        </View>\n        \n        <View style={styles.modalContent}>\n          <View style={styles.formGroup}>\n            <Text style={styles.label}>Current Password</Text>\n            <TextInput\n              style={styles.input}\n              value={passwordData.currentPassword}\n              onChangeText={(text) => setPasswordData(prev => ({ ...prev, currentPassword: text }))}\n              secureTextEntry\n              placeholder=\"Enter current password\"\n            />\n          </View>\n          \n          <View style={styles.formGroup}>\n            <Text style={styles.label}>New Password</Text>\n            <TextInput\n              style={styles.input}\n              value={passwordData.newPassword}\n              onChangeText={(text) => setPasswordData(prev => ({ ...prev, newPassword: text }))}\n              secureTextEntry\n              placeholder=\"Enter new password\"\n            />\n          </View>\n          \n          <View style={styles.formGroup}>\n            <Text style={styles.label}>Confirm New Password</Text>\n            <TextInput\n              style={styles.input}\n              value={passwordData.confirmPassword}\n              onChangeText={(text) => setPasswordData(prev => ({ ...prev, confirmPassword: text }))}\n              secureTextEntry\n              placeholder=\"Confirm new password\"\n            />\n          </View>\n        </View>\n      </View>\n    </Modal>\n  );\n\n  return (\n    <ScrollView \n      style={styles.container}\n      refreshControl={<RefreshControl refreshing={refreshing} onRefresh={onRefresh} />}\n    >\n      {renderHeader()}\n      {renderProfileForm()}\n      {renderMenuOptions()}\n      {renderVehicleModal()}\n      {renderNotificationModal()}\n      {renderPasswordModal()}\n    </ScrollView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n  },\n  header: {\n    backgroundColor: theme.colors.white,\n    padding: 20,\n    paddingTop: 60,\n    alignItems: 'center',\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  imageContainer: {\n    position: 'relative',\n    marginBottom: 15,\n  },\n  profileImage: {\n    width: 100,\n    height: 100,\n    borderRadius: 50,\n  },\n  placeholderImage: {\n    width: 100,\n    height: 100,\n    borderRadius: 50,\n    backgroundColor: theme.colors.border,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  cameraButton: {\n    position: 'absolute',\n    bottom: 0,\n    right: 0,\n    backgroundColor: theme.colors.primary,\n    borderRadius: 15,\n    width: 30,\n    height: 30,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  userName: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n    marginBottom: 5,\n  },\n  userEmail: {\n    fontSize: 16,\n    color: theme.colors.gray,\n    marginBottom: 20,\n  },\n  statsRow: {\n    flexDirection: 'row',\n    width: '100%',\n    justifyContent: 'space-around',\n  },\n  stat: {\n    alignItems: 'center',\n  },\n  statValue: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  statLabel: {\n    fontSize: 12,\n    color: theme.colors.gray,\n    marginTop: 2,\n  },\n  section: {\n    backgroundColor: theme.colors.white,\n    margin: 15,\n    borderRadius: 12,\n    padding: 20,\n  },\n  sectionHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  sectionTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n  },\n  editButton: {\n    color: theme.colors.primary,\n    fontWeight: '600',\n  },\n  formGroup: {\n    marginBottom: 15,\n  },\n  label: {\n    fontSize: 14,\n    fontWeight: '600',\n    color: theme.colors.text,\n    marginBottom: 5,\n  },\n  input: {\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    padding: 12,\n    fontSize: 16,\n    color: theme.colors.text,\n  },\n  disabledInput: {\n    backgroundColor: theme.colors.background,\n    color: theme.colors.gray,\n  },\n  textArea: {\n    height: 80,\n    textAlignVertical: 'top',\n  },\n  saveButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 15,\n    borderRadius: 8,\n    alignItems: 'center',\n    marginTop: 10,\n  },\n  saveButtonText: {\n    color: theme.colors.white,\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  menuItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingVertical: 15,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  menuText: {\n    flex: 1,\n    fontSize: 16,\n    color: theme.colors.text,\n    marginLeft: 15,\n  },\n  logoutItem: {\n    borderBottomWidth: 0,\n  },\n  logoutText: {\n    color: theme.colors.error,\n  },\n  modalContainer: {\n    flex: 1,\n    backgroundColor: theme.colors.white,\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 20,\n    paddingTop: 60,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  modalTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n  },\n  cancelButton: {\n    color: theme.colors.gray,\n    fontSize: 16,\n  },\n  modalContent: {\n    flex: 1,\n    padding: 20,\n  },\n  notificationItem: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingVertical: 15,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  notificationText: {\n    fontSize: 16,\n    color: theme.colors.text,\n  },\n  toggle: {\n    width: 50,\n    height: 30,\n    borderRadius: 15,\n    backgroundColor: theme.colors.border,\n    justifyContent: 'center',\n    paddingHorizontal: 2,\n  },\n  toggleActive: {\n    backgroundColor: theme.colors.primary,\n  },\n  toggleThumb: {\n    width: 26,\n    height: 26,\n    borderRadius: 13,\n    backgroundColor: theme.colors.white,\n  },\n  toggleThumbActive: {\n    alignSelf: 'flex-end',\n  },\n});\n\nexport default ProfileScreen;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}